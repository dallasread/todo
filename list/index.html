<div class="list">
    {{#with todo=todo todos=todos app=app back=back}}
        <h1>
            {{#if back}}
                <a href="#" onclick::{{@setTodo(app, back)}} class="back">
                    â†‘
                </a>
            {{/if}}

            <input type="text" disabled::{{!todo.id}} value::{{todo.title}} oninput::{{@set(todo, 'title')}}>
        </h1>

        <ul class="todos">
            {{#each @findTodos(todo, todos)}}
                <li>
                    <a href="#" onclick::{{@setTodo(app, this)}} class="go">
                        &raquo;
                    </a>

                    <a href="#" onclick::{{@deleteTodo(app, this)}} class="delete">
                        x
                    </a>

                    <input type="text" value::{{title}} oninput::{{@setTodoInfo(this, 'title')}}>
                </li>
            {{/each}}
        </ul>

        {{#if isAdding}}
            <ul class="new-item">
                <li>
                    <form onsubmit::{{@add(app, list, todo)}}>
                        <input type="text" value::{{newTodo.title}} oninput::{{@set(list, 'newTodo.title')}} onblur::{{@add(app, list, todo, 1)}}>
                    </form>
                </li>
            </ul>
        {{/if}}
    {{/with}}
</div>

<div class="list-underlay" onclick::{{@addItem(list)}}></div>
