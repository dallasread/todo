!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=27)}([function(e,t,n){var r=n(1);n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),e.exports=r},function(e,t,n){var r=n(14).Token,o=r.generate(function(e,t){r.call(this,e,t)});o.tokens=[],o.definePrototype({writable:!0},{indentLevel:""}),o.definePrototype({TYPE_ID:-1,toJSON:function(e){return this.JSONuseObject?this.toObject():this.toArray()},toArray:function(){return console.warn("toArray not impleneted."),[-1]},toObject:function(){var e=this;return console.warn("toObject not impleneted."),{type:e.type,TYPE_ID:e.TYPE_ID}},fromArray:function(e){var t=this;if(e[0]!==t.TYPE_ID)throw"TypeMismatch: "+e[0]+" is not "+t.TYPE_ID;t._fromArray(e)},updates:function(){console.warn("updates not impleneted.")}}),e.exports=o},function(e,t,n){var r;!function(){function o(e,t){if(typeof e!==t)throw new TypeError("Expected '"+t+"' but instead found '"+typeof e+"'")}function i(e){var t,n;return!!(e&&"object"==typeof e&&(t=Object.getOwnPropertyNames(e).sort(),1===(n=t.length)&&("get"===t[0]&&"function"==typeof e.get||"set"===t[0]&&"function"==typeof e.set)||2===n&&"get"===t[0]&&"function"==typeof e.get&&"set"===t[1]&&"function"==typeof e.set))}function a(e,t,n){var r,o,a,s={},u=n||t,c=n&&t;for(n=u&&"object"==typeof u?u:{},t=c&&"object"==typeof c?c:{},o=Object.getOwnPropertyNames(n),a=o.length,r=0;r<a;r++)i(n[o[r]])?s[o[r]]={configurable:!!t.configurable,enumerable:!!t.enumerable,get:n[o[r]].get,set:n[o[r]].set}:s[o[r]]={configurable:!!t.configurable,enumerable:!!t.enumerable,writable:!!t.writable,value:n[o[r]]};return Object.defineProperties(e,s),e}function s(){}var u={defineProperties:function(e,t){return a(this,e,t),this},getProto:function(){return Object.getPrototypeOf(this)},getSuper:function(){return Object.getPrototypeOf(this.constructor.prototype)}},c={isGeneration:function(e){return o(e,"function"),this.prototype.isPrototypeOf(e.prototype)},isCreation:function(e){return e instanceof this},generate:function(e){o(e,"function");var t=this;return a(e,{configurable:!1,enumerable:!1,writable:!1},{prototype:Object.create(t.prototype)}),a(e,{configurable:!1,enumerable:!1,writable:!1},c),a(e.prototype,{configurable:!1,enumerable:!1,writable:!1},{constructor:e,generator:e}),e},definePrototype:function(e,t){return a(this.prototype,e,t),this}};a(s,{configurable:!1,enumerable:!1,writable:!1},{prototype:s.prototype}),a(s.prototype,{configurable:!1,enumerable:!1,writable:!1},u),a(s,{configurable:!1,enumerable:!1,writable:!1},c),a(s,{configurable:!1,enumerable:!1,writable:!1},{isGenerator:function(e){return this.isGeneration(e)},toGenerator:function(e,t){return console.warn("Generator.toGenerator is depreciated please use Generator.generateFrom"),this.generateFrom(e,t)},generateFrom:function(e,t){return o(e,"function"),o(t,"function"),a(t,{configurable:!1,enumerable:!1,writable:!1},{prototype:Object.create(e.prototype)}),a(t,{configurable:!1,enumerable:!1,writable:!1},c),a(t.prototype,{configurable:!1,enumerable:!1,writable:!1},{constructor:t,generator:t}),a(t.prototype,{configurable:!1,enumerable:!1,writable:!1},u),t}}),Object.freeze(s),Object.freeze(s.prototype),void 0!==(r=function(){return s}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t,n){function r(e){var t;if(e instanceof Array)t=e;else{if("string"!=typeof e)throw"bad arrgument: expected String | Array<String>.";t=e.match(/[\/]|[.][.]/)?e.split("/"):e.split("."),t[0]||t[1]||(t=["."]);var n=t.pop().split("@");n[0]&&t.push(n[0]),n[1]&&t.push("@"+n[1])}return t}function o(e){return-1!==m.indexOf(e)}function i(e){return 65<=e&&e<=90||97<=e&&e<=122||95===e}function a(e){return 48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122||95===e}function s(e){return 45===e||48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122||95===e}function u(e){return 9<=e&&e<=13||32===e||160===e||5760===e||6158===e||8192<=e&&e<=8202||8232<=e&&e<=8233||8239===e||8287===e||12288===e||65279===e}function c(e){return e.replace(/(\s*)/g,function(e){return e.split("").sort(function(e,t){return e=e.codePointAt(0),t=t.codePointAt(0),160!==e&&160===t?1:160===e&&160!==t?-1:0}).join("").replace(/[^\u00a0]+/," ")})}function f(e){var t;return t=y[e.slice(1,-1)],"number"!=typeof t&&"#"===e[1]&&(t=parseInt(e.slice(2,-1),10)),"number"!=typeof t||isNaN(t)?e:String.fromCharCode(t)}function l(e,t){for(var n=0;n<e.length;n++){prevToken=e[n-1],token=e[n],nextToken=e[n+1];var r=3;if(E.isCreation(token)&&"."===token.operator&&!token.saturated){if(E.isCreation(prevToken)&&!prevToken.saturated)throw t.makeError(token.range[0],token.range[1],"Unexpected token: "+JSON.stringify(token.source()).slice(1,-1));if(token.operands.unshift(prevToken),1===token.operands.length){if(!v(nextToken))throw t.makeError(token.range[0],token.range[1],"Unexpected token: "+JSON.stringify(token.source()).slice(1,-1));var o=new _(t);o.range=nextToken.range,o.loc=nextToken.loc,o.value=nextToken.path[0],o.closed=!0,token.operands.push(o)}else r=2;token.saturated=!0,e.splice(Math.max(0,n-1),r,token),n--}}}function p(e,t){for(var n=e.length-1;n>=0;n--)if(token=e[n],nextToken=e[n+1],E.isCreation(token)&&"!"===token.operator){if(E.isCreation(nextToken)&&!nextToken.saturated)throw console.log(token),t.makeError(token.range[0],token.range[1],"Unexpected token: "+JSON.stringify(token.source()).slice(1,-1));token.operands.push(nextToken),token.saturated=!0,e.splice(n,2,token)}}function d(e,t,n){for(var r=0;r<e.length;r++)if(prevToken=e[r-1],token=e[r],nextToken=e[r+1],E.isCreation(token)&&!token.saturated&&-1!==A[t].indexOf(token.operator)){if(E.isCreation(prevToken)&&!prevToken.saturated)throw n.makeError(token.range[0],token.range[1],"Unexpected token: "+JSON.stringify(token.source()).slice(1,-1));if(token.operands.unshift(prevToken),E.isCreation(nextToken)&&!nextToken.saturated)throw n.makeError(token.range[0],token.range[1],"Unexpected token: "+JSON.stringify(token.source()).slice(1,-1));token.operands.push(nextToken),token.saturated=!0,e.splice(r-1,3,token),r--}}function h(e,t){l(e,t),p(e,t);for(var n in A)A.hasOwnProperty(n)&&d(e,n,t);return e}function v(e){return w.isCreation(e)&&1===e.path.length&&"this"!==e.path[0]&&"~"!==e.path[0]&&".."!==e.path[0]&&"."!==e.path[0]&&"@"!==e.path[0]}function g(e,t){var n,r,o,i;for(n=0;n<e.length;n++)if(r=e[n-1],o=e[n],i=e[n+1],k.isCreation(o)){if(!v(r))throw t.makeError(o.range[0],o.range[1],"Unexpected token: "+JSON.stringify(o.source()).slice(1,-1));if(o.name=r.path[0],k.isCreation(i)||x.isCreation(i))throw t.makeError(o.range[0],o.range[1],"Unexpected token: "+JSON.stringify(o.source()).slice(1,-1));o.expression=i,e.splice(n-1,3,o)}var a=[],s=[],u=[];for(n=0;n<e.length;n++)x.isCreation(e[n])?u.push(e[n]):k.isCreation(e[n])?a.push(e[n]):s.push(e[n]);if(u.length>1)throw t.makeError(u[1].range[0],u[1].range[1],"Unexpected token: "+JSON.stringify(u[1].source()).slice(1,-1));return{args:s,as:u[0],map:a}}var m=n(89),y=n(90),b=n(0),x=b.tokens.as,k=b.tokens.assignment,_=b.tokens.literal,w=b.tokens.value,E=b.tokens.operator;t.pathSpliter=r,t.isSelfClosing=o,t.isHTMLIdentifierStart=i,t.isHTMLEntity=a,t.isHTMLIdentifier=s,t.isWhitespace=u,t.minifyHTMLText=c,t.getHTMLUnEscape=f;var A={dm:["/","%","*"],as:["+","-"],c:["===","==","!==","!=","<=",">=",">","<"],ao:["||","&&"],co:["?:"]};t.makeExpressionTree=h,t.sortArgsAndContextMap=g},function(e,t){function n(e){return e&&"Widget"===e.type}e.exports=n},function(e,t){function n(e,t){if(!e)throw new Error(t)}function r(e,t){if(typeof e!==t)throw new TypeError("Expected '"+t+"' but instead found '"+typeof e+"'")}function o(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function i(e){return e}function a(e,t,n){return n=n||i,JSON.stringify(e.slice(Math.max(0,e.index-t),e.index)).slice(1,-1)+n(JSON.stringify(e.charAt(e.index)||"EOF").slice(1,-1))+JSON.stringify(e.slice(e.index+1,Math.min(e.length,e.index+1+t))).slice(1,-1)}t.assertError=n,t.assertTypeError=r,t.repeat=o,t.varThrough=i,t.bufferSlice=a},function(e,t){e.exports="2"},function(e,t,n){function r(e){return e&&"VirtualNode"===e.type&&e.version===o}var o=n(6);e.exports=r},function(e,t){function n(e){return e&&"Thunk"===e.type}e.exports=n},function(e,t){function n(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}e.exports=n},function(e,t,n){function r(e){return e&&"VirtualText"===e.type&&e.version===o}var o=n(6);e.exports=r},function(e,t,n){var r=n(30);"undefined"!=typeof window&&(window.CustomElement=r),e.exports=r},function(e,t){function n(e){return"[object Array]"===o.call(e)}var r=Array.isArray,o=Object.prototype.toString;e.exports=r||n},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){t.Compiler=n(63),t.Token=n(15)},function(e,t,n){var r=n(2),o=(n(5),r.generate(function(e,t){var n=this;n.defineProperties({code:e}),n.type=t,n.range=[e.index,e.index+1],n.loc={start:{line:e.line,column:e.column},end:{line:e.line,column:e.column+1}}}));o.definePrototype({writable:!0,enumerable:!0},{type:"ILLEGAL"}),o.definePrototype({length:{get:function(){return this.range[1]-this.range[0]}},source:function(){var e=this;return e.code.slice(e.range[0],e.range[1])},close:function(){var e=this;if(e.closed)throw new Error("Cannot call close on a closed token.");e.closed=!0,e.code.index>e.range[1]&&(e.range[1]=e.code.index,e.loc.end={line:e.code.line,column:e.code.column})}}),e.exports=o},function(e,t,n){e.exports=n(34)},function(e,t,n){var r=n(2),o=(n(5),r.generate(function(e,t,n,r,o){var i=this;i.data=e,i.props=t||{},i.asExpression=n||[],i.context=r,i.props._=i,o||!r?i.vars=Object.create(null):(i.vars=Object.create(r.vars),i.props.vars=i.vars)}));o.definePrototype({lookup:function(e){var t=this;return"@"===e[0]?t.props?t.props[e[1]]:void 0:"this"===e[0]?t.data:t.vars&&e[0]in t.vars?t.vars[e[0]]:t.data?t.data[e[0]]:void 0},newContext:function(e,t,n,r){return new o(e,t,n,this,r)},contextWithVars:function(e){var t=this,n=new o(t.data,t.props,t.asExpression,t);return n.setVars(e),n},setVars:function(e){var t=this;for(var n in e)e.hasOwnProperty(n)&&(t.vars[n]=e[n])},applyAsExpression:function(e){for(var t=this,n=0;n<t.asExpression.length&&n<e.length;n++)t.vars[e[n]]=t.asExpression[n]}}),e.exports=o},function(e,t,n){function r(e,t,n){function r(e){var i,a=[];if("literal"===e.type)i=e.value;else if("value"===e.type)i=n.lookup(e.path);else if("operator"===e.type&&1===e.operands.length)i=o[e.operator](r(e.operands[0]));else if("operator"===e.type&&"?:"===e.operator)i=r(r(e.operands[0])?e.operands[1]:e.operands[2]);else if("operator"===e.type&&2===e.operands.length)i="||"===e.operator?r(e.operands[0])||r(e.operands[1]):"&&"===e.operator?r(e.operands[0])&&r(e.operands[1]):o[e.operator](r(e.operands[0]),r(e.operands[1]));else if("transform"===e.type){for(var s=0;s<e.arguments.length;s++)a.push(r(e.arguments[s]));if(!(t[e.name]instanceof Function))throw'Bars Error: Missing Transfrom: "'+e.name+'".';i=t[e.name].apply(null,a)}return i}return e?r(e):n.lookup("this")}var o=n(50);e.exports=r},function(e,t,n){function r(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}var o=n(6);r.NONE=0,r.VTEXT=1,r.VNODE=2,r.WIDGET=3,r.PROPS=4,r.ORDER=5,r.INSERT=6,r.REMOVE=7,r.THUNK=8,e.exports=r,r.prototype.version=o,r.prototype.type="VirtualPatch"},function(e,t,n){function r(e,t){var n=e,r=t;return u(t)&&(r=o(t,e)),u(e)&&(n=o(e,null)),{a:n,b:r}}function o(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(i(n)||a(n)||s(n)))throw new Error("thunk did not return a valid node");return n}var i=n(7),a=n(10),s=n(4),u=n(8);e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e}},function(e,t,n){(function(t){var r,o=void 0!==t?t:"undefined"!=typeof window?window:{},i=n(56);"undefined"!=typeof document?r=document:(r=o["__GLOBAL_DOCUMENT_CACHE@4"])||(r=o["__GLOBAL_DOCUMENT_CACHE@4"]=i),e.exports=r}).call(t,n(13))},function(e,t,n){function r(e,t){var n=t?t.document||o:o,f=t?t.warn:null;if(e=c(e).a,u(e))return e.init();if(s(e))return n.createTextNode(e.text);if(!a(e))return f&&f("Item is not a valid virtual dom node",e),null;var l=null===e.namespace?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName),p=e.properties;i(l,p);for(var d=e.children,h=0;h<d.length;h++){var v=r(d[h],t);v&&l.appendChild(v)}return l}var o=n(22),i=n(24),a=n(7),s=n(10),u=n(4),c=n(20);e.exports=r},function(e,t,n){function r(e,t,n){for(var r in t){var a=t[r];void 0===a?o(e,r,a,n):u(a)?(o(e,r,a,n),a.hook&&a.hook(e,r,n?n[r]:void 0)):s(a)?i(e,t,n,r,a):e[r]=a}}function o(e,t,n,r){if(r){var o=r[t];if(u(o))o.unhook&&o.unhook(e,t,n);else if("attributes"===t)for(var i in o)e.removeAttribute(i);else if("style"===t)for(var a in o)e.style[a]="";else e[t]="string"==typeof o?"":null}}function i(e,t,n,r,o){var i=n?n[r]:void 0;if("attributes"!==r){if(i&&s(i)&&a(i)!==a(o))return void(e[r]=o);s(e[r])||(e[r]={});var u="style"===r?"":void 0;for(var c in o){var f=o[c];e[r][c]=void 0===f?u:f}}else for(var l in o){var p=o[l];void 0===p?e.removeAttribute(l):e.setAttribute(l,p)}}function a(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var s=n(21),u=n(9);e.exports=r},function(e,t){e.exports={_from:"github:dallasread/Bars#components",_id:"bars@1.9.6",_inBundle:!1,_integrity:"",_location:"/bars",_phantomChildren:{},_requested:{type:"git",raw:"bars@github:dallasread/Bars#components",name:"bars",escapedName:"bars",rawSpec:"github:dallasread/Bars#components",saveSpec:"github:dallasread/Bars#components",fetchSpec:null,gitCommittish:"components"},_requiredBy:["/generate-js-custom-element"],_resolved:"github:dallasread/Bars#acc855c7d6281ce526dd93e474be039f29bc0ece",_spec:"bars@github:dallasread/Bars#components",_where:"/Users/dread/Apps/todo/node_modules/generate-js-custom-element",author:{name:"Michaelangelo Jong"},bugs:{url:"https://github.com/Mike96Angelo/Bars/issues"},bundleDependencies:!1,dependencies:{compileit:"^1.0.1","generate-js":"^3.1.2",jquery:"^3.1.1","json-loader":"^0.5.4","source-map":"^0.5.6","virtual-dom":"^2.1.1"},deprecated:!1,description:"Bars is a lightweight high performance HTML aware templating engine.",devDependencies:{browserify:"^13.1.1",colors:"^1.1.2",gulp:"^3.9.1","gulp-minify":"0.0.14",stringify:"^5.1.0","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0"},homepage:"https://github.com/Mike96Angelo/Bars#readme",keywords:["bars","render","renderer","rendering","template","templating","html"],license:"MIT",main:"index.js",name:"bars",repository:{type:"git",url:"git+https://github.com/Mike96Angelo/Bars.git"},scripts:{test:'echo "Error: no test specified" && exit 1'},version:"1.9.6"}},function(e,t,n){var r=n(2),o=/_|\./,i=r.generate(function(e,t){var n=this;n.defineProperties({app:e}),t.id=void 0!==t.id?t.id:Date.now()+Math.random()+"_",n.defineProperties({writable:!0,enumerable:!0},t),n.defineProperties({writable:!0},{persistedJSON:n.toJSON()})});i.definePrototype({isPersisted:function(e){var t=this;return!("string"==typeof(e||t.id)&&o.test(e||t.id))},isChanged:function(){var e=this;return JSON.stringify(e.toJSON())!==JSON.stringify(e.persistedJSON)},addChild:function(e){e.todo_id=this.id;var t=this,n=new i(t.app,e);return t.app.push("todos",n),n},save:function(){var e=this;return e.app.get("api").save([e]),e},parent:function(){var e=this,t=e.app.get("todos");if(e.id)return t.find(function(t){return t.id===e.todo_id})||e.app.get("defaultTodo")},toJSON:function(){var e=this,t={};for(var n in e)("id"!==n||e.isPersisted())&&("todo_id"!==n||e.isPersisted(e[n]))&&(t[n]=e[n]);return t}}),e.exports=i},function(e,t,n){e.exports=n(28)},function(e,t,n){var r=n(29),o=n(122),i=n(128),a=n(130),s=new i,u=new a({url:"https://clearmind.herokuapp.com"}),c=new o({localStore:s,remoteStore:u}),f=new r({api:c});c.app=f,window.app=f,document.body.appendChild(f.element)},function(e,t,n){var r=n(11),o=n(26),i=r.createElement({template:n(115),transforms:{},components:{list:n(116),settings:n(120)}},function(e){var t=this;e=e||{},e.data=e.data||{},e.data.app=t,e.data.api=e.api,e.data.defaultTodo=new o(t,{id:null,title:"Clarity",cog:new o(t,{title:"Settings",settings:!0})}),e.data.todo=e.data.defaultTodo,r.call(t,e),window.ononline=function(){t.syncAPI()},t.get("api").restoreFromLocal(function(e,n){t.set("todos",n||[]),t.syncAPI()})});i.definePrototype({syncAPI:function(){var e=this,t=e.get("api");t.saveToRemote(void 0,function(){t.restoreFromRemote(function(n,r){e.set("todos",r||[]),t.saveToLocal(r||[])})})}}),e.exports=i},function(e,t,n){function r(e,t){for(var n in t)e[n]=t[n]}var o=n(31),i=n(33),a=n(114),s=o.generate(function(e){var t=this;"object"!=typeof e&&(e={}),o.call(t,"object"==typeof e?e.data:{});var n=t.bars.build(t.bars.preCompile(a(t,e.template||t.template),"index",null,{minify:!0}),t.data);t.defineProperties({element:n.rootNode,dom:n}),t.on("update",function(){t.update()}),t.update()});s.Bars=n(16),s.createElement=i,s.definePrototype({init:function(){var e=this;return e.update(),e.element},update:function(e){var t=this;return"object"==typeof e&&r(t.data,e),t.dom.update(t.data),t.element}}),e.exports=s},function(e,t,n){var r=n(2),o=n(32),i=/^\d+$/,a=/\/|\./,s=r.generateFrom(o.EventEmitter,function(e){this.defineProperties({writable:!0},{data:"object"==typeof e?e:{}})});s.definePrototype({set:function(e,t,n){if(void 0!==e){this.data="object"==typeof this.data?this.data:{};for(var r=this,o=e.split(a),s=o.pop(),u=n||r.data,c=0;c<o.length;c++)i.test(o[c])&&void 0!==u[parseInt(o[c])]&&(o[c]=parseInt(o[c])),"object"!=typeof u[o[c]]&&(u[o[c]]={}),u=u[o[c]];return i.test(s)&&u instanceof Array?u[parseInt(s)]=t:u[s]=t,r.emit("update",e,t,n),t}},unset:function(e,t){if(void 0!==e){this.data="object"==typeof this.data?this.data:{};for(var n=this,r=e.split(a),o=r.pop(),i=t||n.data,s=0;s<r.length;s++)"object"!=typeof i[r[s]]&&(i[r[s]]={}),i=i[r[s]];for(delete i[o],i=t||n.data,s=0;s<r.length;s++){if("object"==typeof i[r[s]]&&!Object.keys(i[r[s]]).length){delete i[r[s]];break}i=i[r[s]]}n.emit("update",e,void 0,t)}},get:function(e,t,n){if(void 0===e)return n;for(var r=this,o=e.split(a),i=o.pop(),s=t||r.data,u=0;u<o.length;u++)if("object"!=typeof(s=s[o[u]]))return n;return s[i]||n},push:function(e,t,n){var r=this,o=r.get(e,n);if(o instanceof Array)o.push(t),r.set(e,o,n);else if("object"==typeof o&&void 0!==o){var i=Object.keys(o).length;r.set(e+"."+i,t,n)}else r.set(e,[t],n)}}),e.exports=s},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,u=0;u<o;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){var r=n(16),o=n(112),i=n(113);e.exports=function e(t,n,a){var s=this,u=s.generate(n);return u.createElement=e,u.registerBars=o(u.prototype.bars||a||new r),u.registerBars(t),u.attach=i,u}},function(e,t,n){e.exports=n(35)},function(e,t,n){var r=n(36),o=n(85);r.definePrototype({compile:function(e,t,n,r){var o=this;return o.build(o.preCompile(e,t,n,r))},preCompile:function(e,t,n,r){return o(e,t,n,r)}}),e.exports=r},function(e,t,n){var r=n(2),o=n(37),i=n(61),a=n(0),s=n(83),u=n(84),c=n(25),f=r.generate(function(){this.defineProperties({blocks:new s,components:{},partials:{},transforms:new u})});f.definePrototype({version:c.version,build:function(e,t){var n=this,r=e;return Array.isArray(e)&&(r=new a.tokens.program,r.fromArray(e)),new o(n,r,t)},buildText:function(e,t){var n=this,r=e;return Array.isArray(e)&&(r=new a.tokens.program,r.fromArray(e)),new i(n,r,t)},registerBlock:function(e,t){this.blocks[e]=t},registerComponent:function(e,t){this.components[e]=t},registerPartial:function(e,t){var n=this;if("string"==typeof t){if(!n.preCompile)throw"partials must be pre-compiled using bars.preCompile(template)";t=n.preCompile(t,e,null,{minify:!0})}var r=t;Array.isArray(t)&&(r=new a.tokens.program,r.fromArray(t)),n.partials[e]=r},registerTransform:function(e,t){this.transforms[e]=t}}),e.exports=f},function(e,t,n){var r=n(2),o=n(17),i=n(38),a=n(51),s=n(54),u=n(60),c=r.generate(function(e,t,n){var r=this;r.bars=e,r.struct=t,r.tree=i(r.bars,r.struct,new o(n||{}),!0),r.rootNode=u(r.tree)});c.definePrototype({update:function(e){var t=this,n=i(t.bars,t.struct,new o(e)),r=a(t.tree,n);s(t.rootNode,r),t.tree=n},appendTo:function(e){var t=this;e.appendChild(t.rootNode)}}),e.exports=c},function(e,t,n){function r(){return document.createElement("div")}function o(){}function i(e,t,n){for(var r={},o=0;o<t.length;o++)r[t[o].name]=x(t[o].expression,n.transforms,e);return r}function a(e,t,n){return t.value}function s(e,t,n){function r(e){return i[e]}var o,i={},a={},s={};for(o=0;o<t.attrs.length;o++){var u=t.attrs[o];s[u.name]=c(e,u,n)}for(o=0;o<t.binds.length;o++)i[t.binds[o].name]=x(t.binds[o].expression,e.transforms,n);for(o=0;o<t.props.length;o++)a[t.props[o].name]=x(t.props[o].expression,e.transforms,n);return a.data=r,a.attributes=s,a}function u(e,t,n){return x(t.expression,e.transforms,n)}function c(e,t,n){var r=[];if(!t||!t.nodes)return r.join("");for(var o=0;o<t.nodes.length;o++){var i=t.nodes[o];"text"===i.type?r.push(i.value):"insert"===i.type?r.push(u(e,i,n)):"block"===i.type&&r.push(f(e,i,n))}return r.join("")}function f(e,t,n){function r(r){r=r||n,r.applyAsExpression(t.as?t.as.vars:[]),r=r.contextWithVars(i(n,t.map,e)),a.push(m(e,t.consequent,r))}function o(r){r&&(r.applyAsExpression(t.as?t.as.vars:[]),r=r.contextWithVars(i(n,t.map,e))),a.push(m(e,t.alternate,r||n))}var a=[],s=e.blocks[t.name];if("function"!=typeof s)throw"Bars Error: Missing Block helper: "+t.name;return s(t.arguments.map(function(t){return x(t,e.transforms,n)}),r,o,n),a.join("")}function l(e,t,n){function r(r){r=r||n,r=r.contextWithVars(i(r,t.map,e)),r.applyAsExpression(t.as?t.as.vars:[]),a=a.concat(g(e,t.consequent,r))}function o(r){r&&(r=r.contextWithVars(i(r,t.map,e)),r.applyAsExpression(t.as?t.as.vars:[])),a=a.concat(g(e,t.alternate,r||n))}var a=[],s=e.blocks[t.name];if("function"!=typeof s)throw"Bars Error: Missing Block helper: "+t.name;return s(t.arguments.map(function(t){return x(t,e.transforms,n)}),r,o,n),a}function p(e,t,n){var r=t.name;"object"==typeof t.name&&(r=x(t.name,e.transforms,n));var o=e.partials[r];if(!o)throw"Bars Error: Missing Partial: "+r;var a=n;return t.expression&&(a=a.newContext(x(t.expression,e.transforms,a),null,null,!0)),a=a.contextWithVars(i(n,t.map,e)),h(e,o.fragment,a)}function d(e,t,n){var a=t.name;"object"==typeof a&&(a=x(a,e.transforms,n));var s=n;s=s.contextWithVars(i(n,t.map,e)),t.componentId=t.componentId||Date.now()+Math.random();var u=a+"-"+t.componentId,c=k[u];if(c)c.update(s.vars);else{var f=e.components[a];if(!f)throw"Bars Error: Missing Component: "+a;c=new f(s.vars||{}),c.type="Widget",c.init=c.init||r,c.destroy=c.destroy||o,c.update=c.update||o,c.update(s.vars),k[u]=c}return c}function h(e,t,n){var r=[];if(!t||!t.nodes)return r;for(var o=0;o<t.nodes.length;o++){var i=t.nodes[o];"tag"===i.type?r.push(v(e,i,n)):"text"===i.type?r.push(a(e,i,n)):"insert"===i.type?r.push(u(e,i,n)):"block"===i.type?r=r.concat(l(e,i,n)):"partial"===i.type?r=r.concat(p(e,i,n)):"component"===i.type&&(r=r.concat(d(e,i,n)))}return r}function v(e,t,n){return b(t.name,s(e,t,n),h(e,t,n))}function g(e,t,n){if(!t)return[];if("tag"===t.type)return[v(e,t,n)];if("text"===t.type)return[a(e,t,n)];if("insert"===t.type)return[u(e,t,n)];if("block"===t.type)return l(e,t,n);if("fragment"===t.type)return h(e,t,n);if("partial"===t.type)return p(e,t,n);if("component"===t.type)return d(e,t,n);throw"Bars Error: unknown type: "+t.type}function m(e,t,n){if(!t)return[];if("text"===t.type)return t.value;if("insert"===t.type)return u(e,t,n);if("block"===t.type)return f(e,t,n);if("fragment"===t.type)return c(e,t,n);throw"Bars Error: unknown type: "+t.type}function y(e,t,n,r){return b("div",r?[]:h(e,t.fragment,n))}var b=n(39),x=n(18),k={};e.exports=y},function(e,t,n){var r=n(40);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r,a,u,c,f=[];return!n&&s(t)&&(n=t,a={}),a=a||t||{},r=y(e,a),a.hasOwnProperty("key")&&(u=a.key,a.key=void 0),a.hasOwnProperty("namespace")&&(c=a.namespace,a.namespace=void 0),"INPUT"!==r||c||!a.hasOwnProperty("value")||void 0===a.value||g(a.value)||(a.value=b(a.value)),i(a),void 0!==n&&null!==n&&o(n,f,r,a),new l(r,a,f,u,c)}function o(e,t,n,r){if("string"==typeof e)t.push(new p(e));else if("number"==typeof e)t.push(new p(String(e)));else if(a(e))t.push(e);else{if(!f(e)){if(null===e||void 0===e)return;throw u({foreignObject:e,parentVnode:{tagName:n,properties:r}})}for(var i=0;i<e.length;i++)o(e[i],t,n,r)}}function i(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(g(n))continue;"ev-"===t.substr(0,3)&&(e[t]=x(n))}}function a(e){return d(e)||h(e)||v(e)||m(e)}function s(e){return"string"==typeof e||f(e)||a(e)}function u(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+c(e.foreignObject)+".\nThe parent vnode is:\n"+c(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function c(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}var f=n(12),l=n(41),p=n(42),d=n(7),h=n(10),v=n(4),g=n(9),m=n(8),y=n(43),b=n(45),x=n(46);e.exports=r},function(e,t,n){function r(e,t,n,r,o){this.tagName=e,this.properties=t||c,this.children=n||f,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof o?o:null;var l,p=n&&n.length||0,d=0,h=!1,v=!1,g=!1;for(var m in t)if(t.hasOwnProperty(m)){var y=t[m];u(y)&&y.unhook&&(l||(l={}),l[m]=y)}for(var b=0;b<p;b++){var x=n[b];i(x)?(d+=x.count||0,!h&&x.hasWidgets&&(h=!0),!v&&x.hasThunks&&(v=!0),g||!x.hooks&&!x.descendantHooks||(g=!0)):!h&&a(x)?"function"==typeof x.destroy&&(h=!0):!v&&s(x)&&(v=!0)}this.count=p+d,this.hasWidgets=h,this.hasThunks=v,this.hooks=l,this.descendantHooks=g}var o=n(6),i=n(7),a=n(4),s=n(8),u=n(9);e.exports=r;var c={},f=[];r.prototype.version=o,r.prototype.type="VirtualNode"},function(e,t,n){function r(e){this.text=String(e)}var o=n(6);e.exports=r,r.prototype.version=o,r.prototype.type="VirtualText"},function(e,t,n){"use strict";function r(e,t){if(!e)return"DIV";var n=!t.hasOwnProperty("id"),r=o(e,i),s=null;a.test(r[1])&&(s="DIV");var u,c,f,l;for(l=0;l<r.length;l++)(c=r[l])&&(f=c.charAt(0),s?"."===f?(u=u||[],u.push(c.substring(1,c.length))):"#"===f&&n&&(t.id=c.substring(1,c.length)):s=c);return u&&(t.className&&u.push(t.className),t.className=u.join(" ")),t.namespace?s:s.toUpperCase()}var o=n(44),i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,a=/^\.|#/;e.exports=r},function(e,t){/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
e.exports=function(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e;return function(r,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return t.call(r,o,i);var a,s,u,c,f=[],l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),p=0,o=new RegExp(o.source,l+"g");for(r+="",n||(a=new RegExp("^"+o.source+"$(?!\\s)",l)),i=i===e?-1>>>0:i>>>0;(s=o.exec(r))&&!((u=s.index+s[0].length)>p&&(f.push(r.slice(p,s.index)),!n&&s.length>1&&s[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<r.length&&Array.prototype.push.apply(f,s.slice(1)),c=s[0].length,p=u,f.length>=i));)o.lastIndex===s.index&&o.lastIndex++;return p===r.length?!c&&o.test("")||f.push(""):f.push(r.slice(p)),f.length>i?f.slice(0,i):f}}()},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.value=e}e.exports=r,r.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.value=e}var o=n(47);e.exports=r,r.prototype.hook=function(e,t){o(e)[t.substr(3)]=this.value},r.prototype.unhook=function(e,t){o(e)[t.substr(3)]=void 0}},function(e,t,n){"use strict";function r(e){var t=e[i];return t||(t=e[i]={}),t}var o=n(48);o("ev-store","7");var i="__EV_STORE_KEY@7";e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r="__INDIVIDUAL_ONE_VERSION_"+e,i=r+"_ENFORCE_SINGLETON",a=o(i,t);if(a!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+a+" installed.\nThis means you cannot install version "+t);return o(r,n)}var o=n(49);e.exports=r},function(e,t,n){"use strict";(function(t){function n(e,t){return e in r?r[e]:(r[e]=t,t)}var r="undefined"!=typeof window?window:void 0!==t?t:{};e.exports=n}).call(t,n(13))},function(e,t){t.lookup=function(e,t){return e?e[t]:void 0},t["."]=t.lookup,t.add=function(e,t){return e+t},t.subtract=function(e,t){return e-t},t.multiply=function(e,t){return e*t},t.devide=function(e,t){return e/t},t.mod=function(e,t){return e%t},t["+"]=t.add,t["-"]=t.subtract,t["*"]=t.multiply,t["/"]=t.devide,t["%"]=t.mod,t.not=function(e){return!e},t["!"]=t.not,t.or=function(e,t){return e||t},t.and=function(e,t){return e&&t},t["||"]=t.or,t["&&"]=t.and,t.strictequals=function(e,t){return e===t},t.strictnotequals=function(e,t){return e!==t},t["==="]=t.strictequals,t["!=="]=t.strictnotequals,t.equals=function(e,t){return e==t},t.notequals=function(e,t){return e!=t},t.ltequals=function(e,t){return e<=t},t.gtequals=function(e,t){return e>=t},t["=="]=t.equals,t["!="]=t.notequals,t["<="]=t.ltequals,t[">="]=t.gtequals,t.lt=function(e,t){return e<t},t.gt=function(e,t){return e>t},t["<"]=t.lt,t[">"]=t.gt},function(e,t,n){var r=n(52);e.exports=r},function(e,t,n){function r(e,t){var n={a:e};return o(e,t,n,0),n}function o(e,t,n,r){if(e!==t){var o=n[r],s=!1;if(k(e)||k(t))u(e,t,n,r);else if(null==t)x(e)||(a(e,n,r),o=n[r]),o=v(o,new m(m.REMOVE,e,t));else if(y(t))if(y(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var c=w(e.properties,t.properties);c&&(o=v(o,new m(m.PROPS,e,c))),o=i(e,t,n,o,r)}else o=v(o,new m(m.VNODE,e,t)),s=!0;else o=v(o,new m(m.VNODE,e,t)),s=!0;else b(t)?b(e)?e.text!==t.text&&(o=v(o,new m(m.VTEXT,e,t))):(o=v(o,new m(m.VTEXT,e,t)),s=!0):x(t)&&(x(e)||(s=!0),o=v(o,new m(m.WIDGET,e,t)));o&&(n[r]=o),s&&a(e,n,r)}}function i(e,t,n,r,i){for(var a=e.children,s=p(a,t.children),u=s.children,c=a.length,f=u.length,l=c>f?c:f,d=0;d<l;d++){var h=a[d],g=u[d];i+=1,h?o(h,g,n,i):g&&(r=v(r,new m(m.INSERT,null,g))),y(h)&&h.count&&(i+=h.count)}return s.moves&&(r=v(r,new m(m.ORDER,e,s.moves))),r}function a(e,t,n){f(e,t,n),s(e,t,n)}function s(e,t,n){if(x(e))"function"==typeof e.destroy&&(t[n]=v(t[n],new m(m.REMOVE,e,null)));else if(y(e)&&(e.hasWidgets||e.hasThunks))for(var r=e.children,o=r.length,i=0;i<o;i++){var a=r[i];n+=1,s(a,t,n),y(a)&&a.count&&(n+=a.count)}else k(e)&&u(e,null,t,n)}function u(e,t,n,o){var i=_(e,t),a=r(i.a,i.b);c(a)&&(n[o]=new m(m.THUNK,null,a))}function c(e){for(var t in e)if("a"!==t)return!0;return!1}function f(e,t,n){if(y(e)){if(e.hooks&&(t[n]=v(t[n],new m(m.PROPS,e,l(e.hooks)))),e.descendantHooks||e.hasThunks)for(var r=e.children,o=r.length,i=0;i<o;i++){var a=r[i];n+=1,f(a,t,n),y(a)&&a.count&&(n+=a.count)}}else k(e)&&u(e,null,t,n)}function l(e){var t={};for(var n in e)t[n]=void 0;return t}function p(e,t){var n=h(t),r=n.keys,o=n.free;if(o.length===t.length)return{children:t,moves:null};var i=h(e),a=i.keys;if(i.free.length===e.length)return{children:t,moves:null};for(var s=[],u=0,c=o.length,f=0,l=0;l<e.length;l++){var p,v=e[l];v.key?r.hasOwnProperty(v.key)?(p=r[v.key],s.push(t[p])):(p=l-f++,s.push(null)):u<c?(p=o[u++],s.push(t[p])):(p=l-f++,s.push(null))}for(var g=u>=o.length?t.length:o[u],m=0;m<t.length;m++){var y=t[m];y.key?a.hasOwnProperty(y.key)||s.push(y):m>=g&&s.push(y)}for(var b,x=s.slice(),k=0,_=[],w=[],E=0;E<t.length;){var A=t[E];for(b=x[k];null===b&&x.length;)_.push(d(x,k,null)),b=x[k];b&&b.key===A.key?(k++,E++):A.key?(b&&b.key&&r[b.key]!==E+1?(_.push(d(x,k,b.key)),b=x[k],b&&b.key===A.key?k++:w.push({key:A.key,to:E})):w.push({key:A.key,to:E}),E++):b&&b.key&&_.push(d(x,k,b.key))}for(;k<x.length;)b=x[k],_.push(d(x,k,b&&b.key));return _.length!==f||w.length?{children:s,moves:{removes:_,inserts:w}}:{children:s,moves:null}}function d(e,t,n){return e.splice(t,1),{from:t,key:n}}function h(e){for(var t={},n=[],r=e.length,o=0;o<r;o++){var i=e[o];i.key?t[i.key]=o:n.push(o)}return{keys:t,free:n}}function v(e,t){return e?(g(e)?e.push(t):e=[e,t],e):t}var g=n(12),m=n(19),y=n(7),b=n(10),x=n(4),k=n(8),_=n(20),w=n(53);e.exports=r},function(e,t,n){function r(e,t){var n;for(var s in e){s in t||(n=n||{},n[s]=void 0);var u=e[s],c=t[s];if(u!==c)if(i(u)&&i(c))if(o(c)!==o(u))n=n||{},n[s]=c;else if(a(c))n=n||{},n[s]=c;else{var f=r(u,c);f&&(n=n||{},n[s]=f)}else n=n||{},n[s]=c}for(var l in t)l in e||(n=n||{},n[l]=t[l]);return n}function o(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var i=n(21),a=n(9);e.exports=r},function(e,t,n){var r=n(55);e.exports=r},function(e,t,n){function r(e,t,n){return n=n||{},n.patch=n.patch&&n.patch!==r?n.patch:o,n.render=n.render||c,n.patch(e,t,n)}function o(e,t,n){var r=a(t);if(0===r.length)return e;var o=f(e,t.a,r),u=e.ownerDocument;n.document||u===s||(n.document=u);for(var c=0;c<r.length;c++){var l=r[c];e=i(e,o[l],t[l],n)}return e}function i(e,t,n,r){if(!t)return e;var o;if(u(n))for(var i=0;i<n.length;i++)o=l(n[i],t,r),t===e&&(e=o);else o=l(n,t,r),t===e&&(e=o);return e}function a(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}var s=n(22),u=n(12),c=n(23),f=n(57),l=n(58);e.exports=r},function(e,t){},function(e,t){function n(e,t,n,o){return n&&0!==n.length?(n.sort(i),r(e,t,n,o,0)):{}}function r(e,t,n,i,s){if(i=i||{},e){o(n,s,s)&&(i[s]=e);var u=t.children;if(u)for(var c=e.childNodes,f=0;f<t.children.length;f++){s+=1;var l=u[f]||a,p=s+(l.count||0);o(n,s,p)&&r(c[f],l,n,i,s),s=p}}return i}function o(e,t,n){if(0===e.length)return!1;for(var r,o,i=0,a=e.length-1;i<=a;){if(r=(a+i)/2>>0,o=e[r],i===a)return o>=t&&o<=n;if(o<t)i=r+1;else{if(!(o>n))return!0;a=r-1}}return!1}function i(e,t){return e>t?1:-1}var a={};e.exports=n},function(e,t,n){function r(e,t,n){var r=e.type,c=e.vNode,d=e.patch;switch(r){case h.REMOVE:return o(t,c);case h.INSERT:return i(t,d,n);case h.VTEXT:return a(t,c,d,n);case h.WIDGET:return s(t,c,d,n);case h.VNODE:return u(t,c,d,n);case h.ORDER:return f(t,d),t;case h.PROPS:return p(t,d,c.properties),t;case h.THUNK:return l(t,n.patch(t,d,n));default:return t}}function o(e,t){var n=e.parentNode;return n&&n.removeChild(e),c(e,t),null}function i(e,t,n){var r=n.render(t,n);return e&&e.appendChild(r),e}function a(e,t,n,r){var o;if(3===e.nodeType)e.replaceData(0,e.length,n.text),o=e;else{var i=e.parentNode;o=r.render(n,r),i&&o!==e&&i.replaceChild(o,e)}return o}function s(e,t,n,r){var o,i=v(t,n);o=i?n.update(t,e)||e:r.render(n,r);var a=e.parentNode;return a&&o!==e&&a.replaceChild(o,e),i||c(e,t),o}function u(e,t,n,r){var o=e.parentNode,i=r.render(n,r);return o&&i!==e&&o.replaceChild(i,e),i}function c(e,t){"function"==typeof t.destroy&&d(t)&&t.destroy(e)}function f(e,t){for(var n,r,o,i=e.childNodes,a={},s=0;s<t.removes.length;s++)r=t.removes[s],n=i[r.from],r.key&&(a[r.key]=n),e.removeChild(n);for(var u=i.length,c=0;c<t.inserts.length;c++)o=t.inserts[c],n=a[o.key],e.insertBefore(n,o.to>=u++?null:i[o.to])}function l(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}var p=n(24),d=n(4),h=n(19),v=n(59);e.exports=r},function(e,t,n){function r(e,t){return!(!o(e)||!o(t))&&("name"in e&&"name"in t?e.id===t.id:e.init===t.init)}var o=n(4);e.exports=r},function(e,t,n){var r=n(23);e.exports=r},function(e,t,n){function r(e,t){t=t||0;for(var n="",r=0;r<t;r++)n+=e;return n}var o=n(2),i=n(17),a=n(62),s=o.generate(function(e,t,n){var r=this;r.bars=e,r.struct=t});s.definePrototype({render:function(e,t){var n=this;t=t||{};var o=r(t.tabs?"\t":" ",t.tabs?1:t.indent);return a(n.struct.fragment,o,n.bars,new i(e))}}),e.exports=s},function(e,t,n){function r(e,t,n){for(var r={},o=0;o<t.length;o++)r[t[o].name]=d(t[o].expression,n.transforms,e);return r}function o(e,t){t=t||0;for(var n="",r=0;r<t;r++)n+=e;return n}function i(e,t,n,o){function i(i){e.consequent&&(i=i||o,e.as&&i.applyAsExpression(e.as.vars),i=i.contextWithVars(r(o,e.map,n)),u+=a(e.consequent.nodes,t,n,i))}function s(i){e.alternate&&(i&&(e.as&&i.applyAsExpression(e.as.vars),i=i.contextWithVars(r(o,e.map,n))),u+=a(e.alternate.nodes,t,n,i||o))}if(!e)return"";var u="",c=n.blocks[e.name];if("function"!=typeof c)throw"Bars Error: Missing Block helper: "+e.name;return c(e.arguments.map(function(e){return d(e,n.transforms,o)}),i,s,o),u}function a(e,t,n,r){if(!e||0===e.length)return"";for(var o='="',a=0;a<e.length;a++){var s=e[a];if("text"===s.type)o+=s.value;else if("insert"===s.type){var u=d(s.expression,n.transforms,r);o+=void 0!==u?u:""}else"block"===s.type&&(o+=i(s,t,n,r))}return o+='"'}function s(e,t,n,r){if(!e)return"";var o=" ";return o+=e.name,o+=a(e.nodes,t,n,r)}function u(e,t,n,o,i){function a(a){e.consequent&&(a=a||i,e.as&&a.applyAsExpression(e.as.vars),a=a.contextWithVars(r(i,e.map,o)),u+=f(e.consequent.nodes,t,n,o,a))}function s(a){e.alternate&&(a&&(e.as&&a.applyAsExpression(e.as.vars),a=a.contextWithVars(r(i,e.map,o))),u+=f(e.alternate.nodes,t,n,o,a||i))}if(!e)return"";var u="",c=o.blocks[e.name];if("function"!=typeof c)throw"Bars Error: Missing Block helper: "+e.name;return c(e.arguments.map(function(e){return d(e,o.transforms,i)}),a,s,i),u}function c(e,t,n,o,i){if(!e)return"";var a=e.name;"object"==typeof e.name&&(a=d(e.name,o.transforms,i));var s=o.partials[a];if(!s)throw"Bars Error: Missing Partial: "+a;var u=i;return e.expression&&(u=u.newContext(d(e.expression,o.transforms,u),null,null,!0)),u=u.contextWithVars(r(i,e.map,o)),f(s.fragment.nodes,t,n,o,u)}function f(e,t,n,r,i){if(!e||0===e.length)return"";var a;if(1===e.length){if("text"===e[0].type)return e[0].value;if("insert"===e[0].type)return a=d(e[0].expression,r.transforms,i),void 0!==a?a:""}for(var s="\n",f=0;f<e.length;f++){var p=e[f];s+=o(t,n+1),"tag"===p.type?s+=l(p,t,n+1,r,i):"text"===p.type?s+=p.value:"insert"===p.type?(a=d(p.expression,r.transforms,i),s+=void 0!==a?a:""):"block"===p.type?s+=u(p,t,n,r,i):"partial"===p.type?s+=c(p,t,n,r,i):"component"===p.type&&(s+=c(p,t,n,r,i))}return s+=o(t,n)}function l(e,t,n,r,o){if(!e)return"";var i="";if(i+="<"+e.name,e.attrs)for(var a=0;a<e.attrs.length;a++)i+=s(e.attrs[a],t,r,o);return e.isSelfClosing||e.selfClosed?i+=" />":(i+=">",i+=f(e.nodes,t,n,r,o),i+="</"+e.name+">"),i+="\n"}function p(e,t,n,r){return f(e.nodes,t,-1,n,r)}var d=n(18);e.exports=p},function(e,t,n){var r=n(2),o=n(64),i=n(15),a=n(65),s=n(5),u=r.generate(function(e,t){var n=this;n.modeFormater=t.modeFormater||s.varThrough,n.charFormater=t.charFormater||s.varThrough,n.funcFormater=t.funcFormater||s.varThrough,n.typeFormater=t.typeFormater||s.varThrough,n.sourceFormater=t.sourceFormater||s.varThrough,n.parseModes=e,n.scope=new o});u.definePrototype({compile:function(e,t,n,r){var o=this,i=[];if(o.codeBuffer=new a(e,t),o.scope.verbose=r.verbose,r.verbose&&o.scope.printScope(),o.parseMode(n,i,r),r.verbose&&o.scope.printScope(),o.scope.length)throw o.codeBuffer.makeError("Unexpected End Of Input.");return i},parseMode:function(e,t,n){function r(e,t,n){a.parseMode(e,t,n)}var o,a=this,u=a.scope,c=a.codeBuffer,f=a.parseModes[e],l=c.index;if(!f)throw new Error("Mode not found: "+JSON.stringify(e)+".");r.close=function(){this.closed=!0};e:for(;c.left;){for(var p=0;p<f.length;p++){var d=f[p];if(n.verbose&&console.log(s.repeat("  ",u.length+1)+a.modeFormater(e)+" "+a.funcFormater(d.name)+"\n"+s.repeat("  ",u.length+1)+s.bufferSlice(c,5,a.charFormater)),o=d(e,c,t,n,u,r)){if(o instanceof i&&(t.push(o),n.verbose&&console.log(s.repeat("  ",u.length+1)+a.typeFormater(o.constructor.name||o.type)+": "+a.sourceFormater(o.source()))),r.closed){delete r.closed;break e}break}}if(r.closed){delete r.closed;break e}if(l===c.index){if(o=new i(c),o.close(c),o.value=o.source(c),!n.noErrorOnILLEGAL)throw c.makeError(o.range[0],o.range[1],"ILLEGAL Token: "+JSON.stringify(o.source(c)).slice(1,-1));t.push(o)}l=c.index}}}),e.exports=u},function(e,t,n){var r=n(2),o=n(15),i=n(5),a=r.generate(function(){this.defineProperties({_scope:[]})});a.definePrototype({push:function(e){var t=this;return i.assertError(o.isCreation(e),"Invalid Type."),t._scope.push(e),t.verbose&&t.printScope(),t._scope.length},pop:function(){var e=this,t=e._scope.pop();return e.verbose&&e.printScope(),t},close:function(){var e=this,t=e._scope.pop();return t.close(),e.verbose&&e.printScope(),t},printScope:function(){var e=this;console.log(["Main"].concat(e._scope.map(function(e){return e.constructor.name||e.type})).join(" => "))},token:{get:function(){var e=this;return e._scope[e._scope.length-1]}},length:{get:function(){return this._scope.length}}}),e.exports=a},function(e,t,n){var r=n(2),o=n(5),i=r.generate(function(e,t){var n=this;n.reset(),n._buffer=e,n._file=t});i.definePrototype({reset:function(){var e=this;e.line=1,e.column=1,e._index=0,e._currentLine=0},currentLine:{get:function(){for(var e=this,t="",n=e._currentLine;n<e.length&&(t+=e._buffer[n],10!==e._buffer.codePointAt(n));)n++;return t}},buffer:{get:function(){return this._buffer}},index:{get:function(){return this._index},set:function(e){var t=this,n=t._index,r=!1;if(e=Math.min(t.length,e),e=Math.max(0,e),n!=e){for(n>e&&(t.reset(),n=t._index),10===t.buffer.codePointAt(n)&&(r=!0,n++);n<=e;n++)r?(t._currentLine=n,t.line++,r=!1):t.column++,10===t.buffer.codePointAt(n)&&(r=!0);t.column=e-t._currentLine+1,t._index=e}}},length:{get:function(){return this._buffer.length}},next:function(){var e=this;return e.index++,e.charAt(e.index)},left:{get:function(){var e=this;return e._index<e.length}},charAt:function(e){return this._buffer[e]||"EOF"},codePointAt:function(e){return this._buffer.codePointAt(e)},slice:function(e,t){return this._buffer.slice(e,t)},makeError:function(e,t,n){var r=this;o.assertTypeError(e,"number"),o.assertTypeError(t,"number"),o.assertTypeError(n,"string"),r.index=e;var i,a=r.currentLine,s=t-e,u="\n"===a[a.length-1]?"":"\n";for(i=1;i<r.column;i++)u+=" ";for(s=Math.min(s,a.length-u.length)||1,i=0;i<s;i++)u+="^";return"Syntax Error: "+n+" at "+(r._file?r._file+":":"")+r.line+":"+r.column+"\n\n"+a+u+"\n"}}),e.exports=i},function(e,t,n){var r=n(1),o=n(25),i=r.generate(function(e){var t=this;e&&r.call(t,e),t.version=o.version,t.mode="",t.fragment=null});i.definePrototype({enumerable:!0},{type:"program"}),i.definePrototype({writable:!0},{indentLevel:"\n"}),i.definePrototype({TYPE_ID:r.tokens.push(i)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.version,e.mode,e.fragment]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,version:e.version,mode:e.mode,fragment:e.fragment}},_fromArray:function(e){var t=this;t.version=e[1],t.mode=e[2];var n=new r.tokens.fragment;n.fromArray(e[3]),t.fragment=n},toString:function(){var e=this;return e.fragment.indentLevel=e.indentLevel,e.fragment.toString().trim()+"\n"}}),r.tokens.program=i},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.nodes=[],t.nodesUpdate=0});o.definePrototype({enumerable:!0},{type:"fragment"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.nodes,e.nodesUpdate]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,nodes:e.nodes,nodesUpdate:e.nodesUpdate}},_fromArray:function(e){var t=this;t.nodes=e[1].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.nodesUpdate=e[2]},toString:function(){for(var e=this,t="",n=0;n<e.nodes.length;n++)e.nodes[n].indentLevel=e.indentLevel,t+=e.nodes[n].toString();return t},updates:function(){this.nodesUpdate=1}}),r.tokens.fragment=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.value=""});o.definePrototype({enumerable:!0},{type:"text"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.value]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,value:e.value}},_fromArray:function(e){this.value=e[1]},toString:function(){var e=this,t="";return t+=e.indentLevel+e.value}}),r.tokens.text=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.attrs=[],t.props=[],t.binds=[],t.nodes=[],t.attrsUpdate=0,t.nodesUpdate=0});o.definePrototype({enumerable:!0},{type:"tag"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.attrs,e.attrsUpdate,e.nodes,e.nodesUpdate,e.props,e.binds]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,attrs:e.attrs,attrsUpdate:e.attrsUpdate,nodes:e.nodes,nodesUpdate:e.nodesUpdate,props:e.props,binds:e.binds}},_fromArray:function(e){var t=this;t.name=e[1],t.attrs=e[2].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.attrsUpdate=e[3],t.nodes=e[4].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.nodesUpdate=e[5],t.props=e[6].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.binds=e[7].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t})},toString:function(){for(var e=this,t=e.indentLevel+"<"+e.name,n=0;n<e.attrs.length;n++)t+=e.attrs[n].toString();if(e.selfClosed)return t+=(e.attrs.length?" ":"")+"/>";if(t+=">",e.selfClosing)return t;var r="";for(n=0;n<e.nodes.length;n++)e.nodes[n].indentLevel=e.indentLevel?e.indentLevel+"  ":"",r+=e.nodes[n].toString();return t+=r.trim(),t+=e.indentLevel+"</"+e.name+">"},updates:function(e){var t=this;"attr"===e?t.attrsUpdate=1:t.nodesUpdate=1}}),r.tokens.tag=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.nodes=[],t.nodesUpdate=0});o.definePrototype({enumerable:!0},{type:"attr"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.nodes,e.nodesUpdate]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,nodes:e.nodes,nodesUpdate:e.nodesUpdate}},_fromArray:function(e){var t=this;t.name=e[1],t.nodes=e[2].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.nodesUpdate=e[3]},toString:function(){var e=this,t=" ";t+=e.name+(e.nodes.length?'="':"");for(var n=0;n<e.nodes.length;n++)e.nodes[n].indentLevel="",t+=e.nodes[n].toString();return t+=e.nodes.length?'"':""},updates:function(){this.nodesUpdate=1}}),r.tokens.attr=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.expression=null});o.definePrototype({enumerable:!0},{type:"prop"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.expression]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,expression:e.expression}},_fromArray:function(e){var t=this;t.name=e[1];var n=new r.tokens[e[2][0]];n.fromArray(e[2]),t.expression=n},toString:function(){var e=this,t=e.name+":{{ ";return t+=e.expression.toString(),t+=" }}"}}),r.tokens.prop=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.expression=null});o.definePrototype({enumerable:!0},{type:"bind"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.expression]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,expression:e.expression}},_fromArray:function(e){var t=this;t.name=e[1];var n=new r.tokens[e[2][0]];n.fromArray(e[2]),t.expression=n},toString:function(){var e=this,t=e.name+":{{ ";return t+=e.expression.toString(),t+=" }}"}}),r.tokens.bind=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.arguments=null,t.map=null,t.as=null,t.consequent=null,t.alternate=null});o.definePrototype({enumerable:!0},{type:"block"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.arguments,e.as,e.map,e.consequent,e.alternate]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,arguments:e.arguments,as:e.as,map:e.map,consequent:e.consequent,alternate:e.alternate}},_fromArray:function(e){var t=this;t.name=e[1],t.arguments=e[2]&&e[2].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.as=e[3]&&e[3].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t}),t.map=e[4]&&e[4].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t});var n=new r.tokens.fragment;if(n.fromArray(e[5]),t.consequent=n,e[6]){var o=new r.tokens[e[6][0]];o.fromArray(e[6]),t.alternate=o}},toString:function(){var e=this,t="";if(e.fromElse||(t+=e.indentLevel+"{{#"),t+=e.name+" ",t+=e.expression.toString(),t+=e.map?e.map.toString():"",t+="}}",e.consequent.indentLevel=e.indentLevel?e.indentLevel+"  ":"",t+=e.consequent.toString(),e.alternate){if(e.alternate.indentLevel=e.indentLevel,"block"===e.alternate.type)return e.alternate.fromElse=!0,t+=e.indentLevel+"{{else "+e.alternate.toString();e.alternate.indentLevel+=e.indentLevel?e.indentLevel+"  ":"",t+=e.indentLevel+"{{else}}",t+=e.alternate.toString()}return t+=e.indentLevel+"{{/"+e.name+"}}"},updates:function(){var e=this;e.elsed&&e.alternate?e.alternate.nodesUpdate=1:e.consequent&&(e.consequent.nodesUpdate=1)}}),r.tokens.block=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.expression=null});o.definePrototype({enumerable:!0},{type:"insert"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.expression]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,expression:e.expression}},_fromArray:function(e){var t=this,n=new r.tokens[e[1][0]];n.fromArray(e[1]),t.expression=n},toString:function(){var e=this,t="{{ ";return t+=e.expression.toString(),t+=" }}"}}),r.tokens.insert=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.expression=null,t.map=null});o.definePrototype({enumerable:!0},{type:"component"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.expression,e.map]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,expression:e.expression,map:e.map}},_fromArray:function(e){var t=this;if("object"==typeof e[1]){var n=new r.tokens[e[1][0]];n.fromArray(e[1]),t.name=n}else t.name=e[1];if(e[2]){var o=new r.tokens[e[2][0]];o.fromArray(e[2]),t.expression=o}t.map=e[3].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t})},toString:function(){var e=this,t=e.indentLevel+"{{>"+e.name;return t+=e.expression?" "+e.expression.toString():"",t+="}}"}}),r.tokens.component=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.expression=null,t.map=null});o.definePrototype({enumerable:!0},{type:"partial"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.expression,e.map]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,expression:e.expression,map:e.map}},_fromArray:function(e){var t=this;if("object"==typeof e[1]){var n=new r.tokens[e[1][0]];n.fromArray(e[1]),t.name=n}else t.name=e[1];if(e[2]){var o=new r.tokens[e[2][0]];o.fromArray(e[2]),t.expression=o}t.map=e[3].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t})},toString:function(){var e=this,t=e.indentLevel+"{{>"+e.name;return t+=e.expression?" "+e.expression.toString():"",t+="}}"}}),r.tokens.partial=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.value=""});o.definePrototype({enumerable:!0},{type:"literal"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.value]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,value:e.value}},_fromArray:function(e){this.value=e[1]},toString:function(){var e=this,t="";return t+=e.value}}),r.tokens.literal=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.path=""});o.definePrototype({enumerable:!0},{type:"value"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.path]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,path:e.path}},_fromArray:function(e){this.path=e[1]},toString:function(){var e=this,t="";return"~"===e.path[0]||".."===e.path[0]||"."===e.path[0]||"@"===e.path[0]?t+=e.path.join("/"):t+=e.path.join("."),t}}),r.tokens.value=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.arguments=[]});o.definePrototype({enumerable:!0},{type:"transform"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.arguments]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,arguments:e.arguments}},_fromArray:function(e){var t=this;t.name=e[1],t.arguments=e[2].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t})},toString:function(){var e=this,t="@";t+=e.name+"(";for(var n=0;n<e.arguments.length;n++)t+=e.arguments[n].toString()+(n+1<e.arguments.length?", ":"");return t+=")"}}),r.tokens.transform=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.operator="",t.operands=[]});o.definePrototype({enumerable:!0},{type:"operator"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.operator,e.operands]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,operator:e.operator,operands:e.operands}},_fromArray:function(e){var t=this;t.operator=e[1],t.operands=e[2].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t})},toString:function(){var e=this,t="";return 1===e.operands.length?t+=e.operator+e.operands[0].toString():2===e.operands.length&&(t+=e.operands[0].toString(),t+=" "+e.operator+" ",t+=e.operands[1].toString()),t}}),r.tokens.operator=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.vars=[]});o.definePrototype({enumerable:!0},{type:"as"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.vars]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,vars:e.vars}},_fromArray:function(e){this.vars=e[2].map(function(e){var t=new r.tokens[e[0]];return t.fromArray(e),t})},toString:function(){for(var e=this,t=" as | ",n=0;n<e.vars.length;n++)t+=e.vars[n].toString();return t+=" | "}}),r.tokens.as=o},function(e,t,n){var r=n(1),o=r.generate(function(e){var t=this;e&&r.call(t,e),t.name="",t.expression=null});o.definePrototype({enumerable:!0},{type:"assignment"}),o.definePrototype({TYPE_ID:r.tokens.push(o)-1,toArray:function(){var e=this;return[e.TYPE_ID,e.name,e.expression]},toObject:function(){var e=this;return{type:e.type,TYPE_ID:e.TYPE_ID,name:e.name,expression:e.expression}},_fromArray:function(e){var t=this;t.name=e[1],t.expression=new r.tokens[e[2][0]],t.expression.fromArray(e[2])},toString:function(){}}),r.tokens.assignment=o},function(e,t,n){var r=n(2),o=r.generate(function(){});o.definePrototype({if:function(e,t,n,r){e[0]?t():n()},with:function(e,t,n,r){var o=e[0];e.length?o&&"object"==typeof o?t(r.newContext(o)):n():t()},each:function(e,t,n,r){var o=e[0];if(o&&"object"==typeof o){var i=Object.keys(o);if(i.length)for(var a=0;a<i.length;a++)t(r.newContext(o[i[a]],{key:i[a],index:a,length:i.length},[o[i[a]],o instanceof Array?a:i[a],o]));else n()}else n()}}),e.exports=o},function(e,t,n){var r=n(2),o=r.generate(function(){});o.definePrototype({log:function(){var e=Array.prototype.slice.call(arguments);e.unshift("Bars:"),console.log.apply(console,e)},upperCase:function(e){return String(e).toUpperCase()},lowerCase:function(e){return String(e).toLowerCase()},number:function(e){return Number(e)},string:function(e){return String(e)},reverse:function(e){return e.slice().reverse()},slice:function(e,t,n){return e.slice(t,n)},map:function(e,t){return e.map(function(n){return e[t]})},sort:function(e,t){return e.slice().sort(function(e,n){return t?e[t]<n[t]?-1:e[t]>n[t]?1:0:e<n?-1:e>n?1:0})},sum:function(e,t){var n,r=0;if(t)for(n=0;n<e.length;n++)r+=e[n][t];else for(n=0;n<e.length;n++)r+=e[n];return r},ave:function(e,t){var n,r=0;if(t)for(n=0;n<e.length;n++)r+=e[n][t];else for(n=0;n<e.length;n++)r+=e[n];return r/e.length}}),e.exports=o},function(e,t,n){e.exports=n(86)},function(e,t,n){function r(e,t,n,r){n=n||"DOM",r=r||{};var o=new a.tokens.program,i=new a.tokens.fragment;return i.nodesUpdate=1,o.mode=n,o.fragment=i,i.nodes=u.compile(e,t,n,r),o}var o=n(14),i=n(87),a=n(0),s={TEXT:[i.parseText,i.parseBarsMarkup],BARS:[i.parseBarsComment,i.parseBarsBlock,i.parseBarsPartial,i.parseBarsComponent,i.parseBarsInsert],DOM:[i.parseText,i.parseHTMLComment,i.parseHTMLTag,i.parseBarsMarkup],ATTR:[i.parseHTMLTagEnd,i.parseWhitspace,i.parseHTMLAttr],VALUE:[i.parseHTMLAttrEnd,i.parseText,i.parseBarsMarkup],LOGIC:[i.parseBarsMarkupEnd,i.parseExpressionAs,i.parseExpressionLiteral,i.parseExpressionTransform,i.parseExpressionValue,i.parseExpressionOperator,i.parseExpressionAssignment,i.parseWhitspace],"LOGIC-EXP":[i.parseBarsMarkupEnd,i.parseExpressionLiteral,i.parseExpressionTransform,i.parseExpressionValue,i.parseExpressionOperator,i.parseWhitspace],"LOGIC-ARGS":[i.parseExpressionTransformEnd,i.parseExpressionLiteral,i.parseExpressionTransform,i.parseExpressionValue,i.parseExpressionOperator,i.parseWhitspace],"LOGIC-AS":[i.parseExpressionAsEnd,i.parseExpressionValue,i.parseWhitspace]},u=new o.Compiler(s,{modeFormater:function(e){return e.green},charFormater:function(e){return e.green.underline},funcFormater:function(e){return e.red},typeFormater:function(e){return e.red},sourceFormater:function(e){return("`"+e+"`").green.underline}});e.exports=r},function(e,t,n){t.parseText=n(88),t.parseWhitspace=n(91),t.parseHTMLComment=n(92),t.parseHTMLTag=n(93),t.parseHTMLTagEnd=n(94),t.parseHTMLAttr=n(95),t.parseHTMLAttrEnd=n(96),t.parseBarsMarkup=n(97),t.parseBarsComment=n(98),t.parseBarsInsert=n(99),t.parseBarsPartial=n(100),t.parseBarsComponent=n(101),t.parseBarsBlock=n(102),t.parseBarsMarkupEnd=n(103),t.parseExpressionValue=n(104),t.parseExpressionLiteral=n(105),t.parseExpressionOperator=n(106),t.parseExpressionTransform=n(107),t.parseExpressionTransformEnd=n(108),t.parseExpressionAs=n(109),t.parseExpressionAsEnd=n(110),t.parseExpressionAssignment=n(111)},function(e,t,n){function r(e,t,n,r,a,s){var u,c=t.index,f=!1,l="",p="";if("DOM"===e)for(;c<t.length;c++){if(ch=t.codePointAt(c),60===ch||123===ch&&123===t.codePointAt(c+1)){p+=l;break}38!==ch?f&&59===ch?(l+=t.charAt(c),p+=i.getHTMLUnEscape(l),f=!1,l=""):f&&i.isHTMLEntity(ch)?l+=t.charAt(c):(p+=l,f=!1,l="",p+=t.charAt(c)):(f=!0,l=t.charAt(c))}else if(r.whitepaceString)for(;c<t.length;c++){if(ch=t.codePointAt(c),10===ch)return t.index=c,null;if(34===ch&&92!==t.codePointAt(c-1))break;if(123===ch&&123===t.codePointAt(c+1))break}else for(;c<t.length&&(123!==t.codePointAt(c)||123!==t.codePointAt(c+1));c++){if("script"===r.textExitTag&&60===t.codePointAt(c)&&47===t.codePointAt(c+1)&&115===t.codePointAt(c+2)&&99===t.codePointAt(c+3)&&114===t.codePointAt(c+4)&&105===t.codePointAt(c+5)&&112===t.codePointAt(c+6)&&116===t.codePointAt(c+7)&&62===t.codePointAt(c+8)){u=9;break}if("style"===r.textExitTag&&60===t.codePointAt(c)&&47===t.codePointAt(c+1)&&115===t.codePointAt(c+2)&&116===t.codePointAt(c+3)&&121===t.codePointAt(c+4)&&108===t.codePointAt(c+5)&&101===t.codePointAt(c+6)&&62===t.codePointAt(c+7)){u=8;break}}if(t.index<c){var d=new o(t);if(t.index=c,d.close(),r.minify){if(d.value=i.minifyHTMLText(p||d.source(t)),/^\s*$/.test(d.value))return!0}else d.value=p||d.source(t);return r.textExitTag&&u&&(t.index+=u,a.close(),s.close()),d}return r.textExitTag&&u&&(t.index+=u,a.close(),s.close()),null}var o=n(0).tokens.text,i=n(3);e.exports=r},function(e,t){e.exports=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]},function(e,t){e.exports={quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,euro:8364}},function(e,t,n){function r(e,t,n,r,i,a){for(var s=t.index,u=t.length,c=0;s<u&&o.isWhitespace(t.codePointAt(s))&&(!r.whitepaceString||10!==t.codePointAt(s));s++)c++;return c?(t.index=s,!0):null}var o=n(3);e.exports=r},function(e,t){function n(e,t,n,r,o,i){var a=t.index,s=t.length;if(60===t.codePointAt(a)&&33===t.codePointAt(++a)&&45===t.codePointAt(++a)&&45===t.codePointAt(++a)){for(a++;a<s;a++)if(45===t.codePointAt(a)&&45===t.codePointAt(a+1)&&62===t.codePointAt(a+2))return a+=3,t.index=a,!0;throw t.makeError(t.index,t.index+4,'Unclosed Comment: Expected "--\x3e" to fallow "\x3c!--".')}return null}e.exports=n},function(e,t,n){function r(e,t,n,r,o,f){var l,p,d=t.index,h=t.length;if(60===t.codePointAt(d)){if(47===t.codePointAt(d+1)&&(p=!0,d++),l=new i(t),d++,!c.isHTMLIdentifierStart(t.codePointAt(d)))throw t.makeError(d,d+1,"Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(d))+".");for(;d<h&&(ch=t.codePointAt(d),c.isHTMLIdentifier(ch));d++)l.name+=t.charAt(d);if(t.index=d,p){if(62!==ch)throw t.makeError(d,d+1,"Unexpected Token: Expected "+JSON.stringify(">")+" but found "+JSON.stringify(t.charAt(d))+".");if(d++,t.index=d,l.close(),!i.isCreation(o.token))throw t.makeError(l.range[0],l.range[1],"Unexpected Closing Tag: "+JSON.stringify(l.source(t))+".");if(o.token.name!==l.name)throw t.makeError(l.range[0],l.range[1],"Mismatch Closing Tag: Expected "+JSON.stringify("</"+o.token.name+">")+" but found "+JSON.stringify(l.source(t))+".");return o.close(),f.close(),!0}var v=[];if(o.push(l),f("ATTR",v,r),l.attrs=v.filter(function(e){return a.isCreation(e)}),l.props=v.filter(function(e){return s.isCreation(e)}),l.binds=v.filter(function(e){return u.isCreation(e)}),v=null,!l.closed)throw t.makeError(d,d+1,"Unclosed Tag: Expected "+JSON.stringify(">")+" but found "+JSON.stringify(t.charAt(t.index))+".");if(c.isSelfClosing(l.name)&&(l.selfClosing=!0),l.selfClosing||l.selfClosed)return l;if(delete l.closed,"pre"!==l.name&&"style"!==l.name&&"script"!==l.name||(r.minify=!1),o.push(l),"style"===l.name||"script"===l.name?(r.textExitTag=l.name,f("TEXT",l.nodes,r),delete r.textExitTag):f(e,l.nodes,r),!l.closed)throw t.makeError(l.range[0],l.range[1],"Unclosed Tag: Expected "+JSON.stringify("</"+l.name+">")+" to fallow "+JSON.stringify(l.source(t))+".");return o.token&&(l.attrsUpdate||l.nodesUpdate)&&o.token.updates(),l}return null}var o=n(0),i=o.tokens.tag,a=o.tokens.attr,s=o.tokens.prop,u=o.tokens.bind,c=n(3);e.exports=r},function(e,t){function n(e,t,n,r,o,i){var a=t.codePointAt(t.index);if(62===a)return t.index++,o.close(),i.close(),!0;if(47===a&&62===t.codePointAt(t.index+1)){t.index+=2;return o.close().selfClosed=!0,i.close(),!0}return null}e.exports=n},function(e,t,n){function r(e,t,n,r,o,c){var f=t.index,l=t.length;if(!u.isHTMLIdentifierStart(t.codePointAt(f)))return null;for(var p=new i(t),d=new a(t),h=new s(t);f<l&&u.isHTMLIdentifier(t.codePointAt(f));f++)p.name+=t.charAt(f);if(h.name=d.name=p.name,p.name){if(61===t.codePointAt(f)){if(f++,34!==t.codePointAt(f))throw t.makeError(f,f+1,'Unexpected Token: Expected """ but found '+JSON.stringify(t.charAt(f)));f++,t.index=f,o.push(p),r.whitepaceString=!0,c("VALUE",p.nodes,r),delete r.whitepaceString}else{if(58===t.codePointAt(f)){if(f++,58===t.codePointAt(f)&&(f++,h=d),123===t.codePointAt(f)&&123===t.codePointAt(f+1)){var v=[];if(t.index=f+2,o.push(h),c("LOGIC-EXP",v,r),v=u.makeExpressionTree(v,t),v.length>1)throw t.index=v[1].range[0],t.makeError(v[1].range[0],v[1].range[1],"Unexpected Token: "+JSON.stringify(v[1].source(t))+".");if(h.expression=v[0],v=null,!h.closed)throw t.makeError(t.index,t.index+1,"Unclosed Block: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".");if(!h.expression)throw t.makeError(t.index-2,t.index-1,"Missing <expression>.");return h}throw t.makeError(f-1,f,"Unexpected Token: :")}t.index=f,p.close()}if(!p.closed)throw t.makeError(p.range[0]+p.name.length+1,p.range[0]+p.name.length+2,'Unclosed String: Expected """ to fallow """');return o.token&&p.nodesUpdate&&o.token.updates("attr"),p}return null}var o=n(0),i=o.tokens.attr,a=o.tokens.prop,s=o.tokens.bind,u=n(3);e.exports=r},function(e,t){function n(e,t,n,r,o,i){return 34===t.codePointAt(t.index)?(t.index++,o.close(),i.close(),!0):null}e.exports=n},function(e,t){function n(e,t,n,r,o,i){var a=t.index;t.length;if(123===t.codePointAt(a)&&123===t.codePointAt(++a)){if(r.markup={},r.markup.mode=e,i("BARS",n,r),t.index>a)return r.markup&&r.markup.closeParseScope&&i.close(),delete r.markup,o.token&&o.token.updates(),!0;delete r.markup}return null}e.exports=n},function(e,t){function n(e,t,n,r,o,i){var a=t.index+2,s=t.length;if(33===t.codePointAt(a)){if(45===t.codePointAt(++a)&&45===t.codePointAt(++a)){for(a++;a<s;a++)if(45===t.codePointAt(a)&&45===t.codePointAt(a+1)&&125===t.codePointAt(a+2)&&125===t.codePointAt(a+3))return a+=4,t.index=a,i.close(),r.keepComments,!0;throw t.makeError('Unclosed Comment: Expected "--}}" to fallow "{{!--".',5)}for(a++;a<s;a++)if(125===t.codePointAt(a)&&125===t.codePointAt(a+1))return a+=2,t.index=a,i.close(),r.keepComments,!0;throw t.makeError(t.index,t.index+3,'Unclosed Comment: Expected "}}" to fallow "{{!".')}return null}e.exports=n},function(e,t,n){function r(e,t,n,r,a,s){var u=t.index+2,c=(t.length,new o(t)),f=[];if(a.push(c),t.index=u,s("LOGIC-EXP",f,r),f=i.makeExpressionTree(f,t),f.length>1)throw t.index=f[1].range[0],t.makeError(f[1].range[0],f[1].range[1],"Unexpected Token: "+JSON.stringify(f[1].source(t))+".");if(c.expression=f[0],f=null,!c.closed)throw t.makeError(t.index,t.index+1,"Unclosed Block: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".");if(!c.expression)throw t.makeError(t.index-2,t.index-1,"Missing <expression>.");return s.close(),c}var o=n(0).tokens.insert,i=n(3);e.exports=r},function(e,t,n){function r(e,t,n,r,a,s){var u,c=t.index+2,f=t.length,l=!1;if(62===t.codePointAt(c)){if(u=new o(t),c++,63===t.codePointAt(c))l=!0,c++;else{if(!i.isHTMLIdentifierStart(t.codePointAt(c)))throw t.makeError(c,c+1,"Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(c))+".");for(;c<f&&(ch=t.codePointAt(c),i.isHTMLIdentifier(ch));c++)u.name+=t.charAt(c)}t.index=c;var p=[];a.push(u),s("LOGIC",p,r),p=i.makeExpressionTree(p,t);var d=i.sortArgsAndContextMap(p,t);if(p=d.args,u.map=d.map,d.as)throw t.makeError(d.as.range[0],d.as.range[1],"Unexpected Token: "+JSON.stringify(d.as.source(t))+".");if(d=null,p.length>(l?2:1))throw t.makeError(p[1].range[0],p[1].range[1],"Unexpected Token: "+JSON.stringify(p[1].source(t))+".");if(l?(u.name=p[0]||null,u.expression=p[1]||null):u.expression=p[0]||null,p=null,!u.closed)throw t.makeError(c,c+1,"Unclosed Block: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".");return s.close(),u}return null}var o=n(0).tokens.partial,i=n(3);e.exports=r},function(e,t,n){function r(e,t,n,r,a,s){var u,c=t.index+2,f=t.length,l=!1;if(36===t.codePointAt(c)){if(u=new o(t),c++,63===t.codePointAt(c))l=!0,c++;else{if(!i.isHTMLIdentifierStart(t.codePointAt(c)))throw t.makeError(c,c+1,"Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(c))+".");for(;c<f&&(ch=t.codePointAt(c),i.isHTMLIdentifier(ch));c++)u.name+=t.charAt(c)}t.index=c;var p=[];a.push(u),s("LOGIC",p,r),p=i.makeExpressionTree(p,t);var d=i.sortArgsAndContextMap(p,t);if(p=d.args,u.map=d.map,d.as)throw t.makeError(d.as.range[0],d.as.range[1],"Unexpected Token: "+JSON.stringify(d.as.source(t))+".");if(d=null,p.length>(l?2:1))throw t.makeError(p[1].range[0],p[1].range[1],"Unexpected Token: "+JSON.stringify(p[1].source(t))+".");if(l?(u.name=p[0]||null,u.expression=p[1]||null):u.expression=p[0]||null,p=null,!u.closed)throw t.makeError(c,c+1,"Unclosed Component: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".");return s.close(),u}return null}var o=n(0).tokens.component,i=n(3);e.exports=r},function(e,t,n){function r(e,t,n,o,u,c){var f,l,p,d=t.index+2,h=t.length,v=o.markup.mode;if(47===t.codePointAt(d))l=!0,o.markup.closeParseScope=!0;else{if(!(35===t.codePointAt(d)||u.token&&u.token.alternateIsBlock)){if(101===t.codePointAt(d)&&108===t.codePointAt(++d)&&115===t.codePointAt(++d)&&101===t.codePointAt(++d)){if(!0,s.isWhitespace(t.codePointAt(d+1))?(d+=2,p=!0):125===t.codePointAt(++d)&&125===t.codePointAt(++d)&&d++,f=new i(t),t.index=d,f.close(),!i.isCreation(u.token)||u.token.elsed)throw t.makeError(f.range[0],f.range[1],"Unexpected Token: "+JSON.stringify(f.source(t))+".");return u.token.elsed=!0,u.token.alternateIsBlock=p,o.markup.closeParseScope=!0,u.close(),c.close(),!0}return null}!0}if(u.token&&u.token.alternateIsBlock?d-=2:d++,f=new i(t),!s.isHTMLIdentifierStart(t.codePointAt(d)))throw t.makeError(d,d+1,"Unexpected Token: Expected <[A-Za-z]> but found "+JSON.stringify(t.charAt(d))+".");for(;d<h&&(ch=t.codePointAt(d),s.isHTMLIdentifier(ch));d++)f.name+=t.charAt(d);if(l){if(125!==t.codePointAt(d)||125!==t.codePointAt(++d))throw t.makeError(d,d+1,"Unexpected Token: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(d))+".");if(d++,t.index=d,f.close(),!i.isCreation(u.token))throw t.makeError(f.range[0],f.range[1],"Unexpected Closing Block: "+JSON.stringify(f.source(t))+".");if(u.token.name!==f.name)throw t.makeError(f.range[0],f.range[1],"Mismatch Closing Block: Expected "+JSON.stringify("{{/"+u.token.name+"}}")+" but found "+JSON.stringify(f.source(t))+".");return u.close(),c.close(),!0}s.isWhitespace(t.codePointAt(d))&&d++,t.index=d;var g=[];u.push(f),c("LOGIC",g,o),g=s.makeExpressionTree(g,t);var m=s.sortArgsAndContextMap(g,t);if(f.map=m.map,f.arguments=m.args,f.as=m.as,g=null,m=null,!f.closed)throw t.makeError(t.index,t.index+1,"Unclosed Block: Expected "+JSON.stringify("}}")+" but found "+JSON.stringify(t.charAt(t.index))+".");if(f.consequent=new a(t),delete f.closed,u.push(f),c(v,f.consequent.nodes,o),d=t.index,f.consequent.close(),t.index=d,f.elsed){if(f.alternateIsBlock)return delete f.closed,u.push(f),o.markup={mode:v},f.alternate=r(e,t,[],o,u,c),delete o.markup,u.close(),f;f.alternate=new a(t),delete f.closed,u.push(f),c(v,f.alternate.nodes,o),d=t.index,f.alternate.close()}if(!f.closed)throw t.makeError(f.range[0],f.range[0]+f.name.length+6+f.expression.length,"Unclosed Block: Expected "+JSON.stringify("{{/"+f.name+"}}")+" to fallow "+JSON.stringify("{{#"+f.name+" <expression>}}")+".");return c.close(),f}var o=n(0),i=o.tokens.block,a=o.tokens.fragment,s=n(3);e.exports=r},function(e,t,n){function r(e,t,n,r,i,a){return 125===t.codePointAt(t.index)&&125===t.codePointAt(t.index+1)&&(o.tokens.insert.isCreation(i.token)||o.tokens.block.isCreation(i.token)||o.tokens.partial.isCreation(i.token)||o.tokens.component.isCreation(i.token)||o.tokens.prop.isCreation(i.token)||o.tokens.bind.isCreation(i.token))?(t.index+=2,i.close(),a.close(),!0):null}var o=n(0);e.exports=r},function(e,t,n){function r(e,t,n,r,o,s){var u=t.index,c=t.length,f=t.codePointAt(u),l=64===f;if(l&&r.asExpression)return null;if(!a.isHTMLIdentifierStart(f)&&!l)return null;value=new i(t),value.path=[],l&&(value.path.push("@"),u++);for(var p="";u<c&&(f=t.codePointAt(u),a.isHTMLIdentifier(f));u++)p+=t.charAt(u);if(!p)throw t.makeError(value.range[0],value.range[1],"Unexpected Token: "+JSON.stringify(value.source()).slice(1,-1));return value.path.push(p),t.index=u,value.close(),value}var o=n(0),i=o.tokens.value,a=(o.tokens.operator,n(3));e.exports=r},function(e,t,n){function r(e,t,n,r,o,i){var a,s,u=t.index,f=t.length;if(39!==t.codePointAt(u))return null;for(u++,s=new c(t),s.value="";u<f;u++){if(10===(a=t.codePointAt(u)))return t.index=u,null;if(39===a&&92!==t.codePointAt(u-1)){u++;break}s.value+=t.charAt(u)}return u>t.index?(t.index=u,s.close(),s):null}function o(e,t,n,r,o,i){var a,s,u=t.index,f=t.length,l=t.codePointAt(u),p=t.codePointAt(u+1);if(45===l&&48<=p&&p<=57||48<=l&&l<=57){for(u++,number=new c(t);u<f;u++)if(!(48<=(l=t.codePointAt(u))&&l<=57))if(69===l||101===l){if(u++,l=t.codePointAt(u),p=t.codePointAt(u+1),s||!((43===l||45===l)&&48<=p&&p<=57||48<=l&&l<=57))throw t.index=u-1,t.makeError("Unexpected Token: "+JSON.stringify(t.charAt(u-1))+".");s=!0}else{if(46!==l)break;if(u++,l=t.codePointAt(u),s||a||!(48<=l&&l<=57))throw t.index=u-1,t.makeError('Unexpected Token: ".".');a=!0}return t.index=u,number.close(),number.value=Number(number.source(t)),number}return null}function i(e,t,n,r,o,i){var a,s=t.index;if(116===t.codePointAt(s)&&114===t.codePointAt(++s)&&117===t.codePointAt(++s)&&101===t.codePointAt(++s))a=!0;else{if(102!==t.codePointAt(s)||97!==t.codePointAt(++s)||108!==t.codePointAt(++s)||115!==t.codePointAt(++s)||101!==t.codePointAt(++s))return null;a=!1}var u=new c(t);return s++,t.index=s,u.close(),u.value=a,u}function a(e,t,n,r,o,i){var a,s=t.index;return 110!==t.codePointAt(s)||117!==t.codePointAt(++s)||108!==t.codePointAt(++s)||108!==t.codePointAt(++s)?null:(s++,a=new c(t),t.index=s,a.close(),a.value=null,a)}function s(e,t,n,s,u,c){return r(e,t,n,s,u,c)||o(e,t,n,s,u,c)||i(e,t,n,s,u,c)||a(e,t,n,s,u,c)}var u=n(0),c=u.tokens.literal;u.tokens.operator;e.exports=s},function(e,t,n){function r(e){return 33===e||37<=e&&e<=38||42<=e&&e<=43||45<=e&&e<=47||60<=e&&e<=62||124===e}function o(e){return 33===e||60<=e&&e<=62}function i(e){return 33===e||61===e}function a(e){return 61===e}function s(e){return 124===e}function u(e){return 38===e}function c(e,t,n,r,o,i){var a,s,u=t.index;t.length;if(63===t.codePointAt(u)){if(a=new h(t),t.index++,a.operator="?:",s=[],o.push(a),i("LOGIC-EXP",s,r),s=g.makeExpressionTree(s,t),s.length>1)throw"OPERATOR OPERAND MISMATCH";return a.operands.push(s[0]),a}if(58===t.codePointAt(u)){if(h.isCreation(o.token)&&"?:"===o.token.operator)return t.index++,o.close(),i.close(),!0;throw t.makeError(u,u+1,"Unexpected token: "+t.charAt(u))}return null}function f(e,t,n,r,o,i){var a,s,u,c,f=t.index;t.length;if((u=40===t.codePointAt(f))||(c=91===t.codePointAt(f))){if(a=new h(t),t.index++,u?a.parentheses=!0:c&&(a.brackets=!0),a.operator=".",s=[],o.push(a),i("LOGIC-EXP",s,r),s=g.makeExpressionTree(s,t),s.length>1)throw"OPERATOR OPERAND MISMATCH";if(a.operands.push(s[0]),u)return s[0];if(c)return a}else if((u=41===t.codePointAt(f))||(c=93===t.codePointAt(f))){if(h.isCreation(o.token)&&(u&&o.token.parentheses||c&&o.token.brackets))return t.index++,o.close(),i.close(),!0;throw t.makeError(f,f+1,"Unexpected token: "+t.charAt(f))}return null}function l(e,t,n,c,f,l){var p=t.index,d=(t.length,t.codePointAt(p));if(!r(d))return null;var g=new h(t);if(o(d)&&a(t.codePointAt(p+1)))p++;else if(a(d))return null;if(s(d)&&s(t.codePointAt(p+1))||u(d)&&u(t.codePointAt(p+1)))p++;else if(s(d)||u(d))throw t.makeError(g.range[0],g.range[1],"Unexpected token: "+JSON.stringify(g.source()).slice(1,-1));i(d)&&a(t.codePointAt(p+1))&&p++,p++,t.index=p,g.close(),g.operator=g.source();var m=n[n.length-1],y=n[n.length-2];if(v.isCreation(m)||"!"!==g.operator&&(!m||!m.saturated&&!m.brackets&&h.isCreation(m))||h.isCreation(m)&&"!"===m.operator&&h.isCreation(y)&&"!"===y.operator)throw t.makeError(g.range[0],g.range[1],"Unexpected token: "+JSON.stringify(g.source()).slice(1,-1));return g}function p(e,t,n,r,o,i){return l(e,t,n,r,o,i)||f(e,t,n,r,o,i)||c(e,t,n,r,o,i)}var d=(n(14),n(0)),h=d.tokens.operator,v=d.tokens.assignment,g=n(3);e.exports=p},function(e,t,n){function r(e,t,n,r,o,s){var u,c=t.index,f=t.length,l=t.codePointAt(c);if(64!==l)return null;if(c++,!a.isHTMLIdentifierStart(t.codePointAt(c)))return null;for(u=new i(t);c<f&&(l=t.codePointAt(c),a.isHTMLIdentifier(l));c++)u.name+=t.charAt(c);if(40!==(l=t.codePointAt(c)))return null;for(c++,t.index=c,o.push(u);t.left;){var p=[];if(s("LOGIC-ARGS",p,r),p=a.makeExpressionTree(p,t),p.length>1)throw t.index=p[1].range[0],t.makeError(p[1].range[0],p[1].range[1],"Unexpected Token: "+JSON.stringify(p[1].source(t))+".");if(u.arguments.push(p[0]),u.nextArg&&(delete u.nextArg,delete u.closed),u.closed)break}return u}var o=n(0),i=o.tokens.transform,a=(o.tokens.operator,n(3));e.exports=r},function(e,t,n){function r(e,t,n,r,i,a){return 41===t.codePointAt(t.index)&&o.tokens.transform.isCreation(i.token)?(t.index++,i.close(),a.close(),!0):44===t.codePointAt(t.index)&&o.tokens.transform.isCreation(i.token)?(t.index++,i.token.nextArg=!0,a.close(),!0):null}var o=n(0);e.exports=r},function(e,t,n){function r(e,t,n,r,o,s){var u,c,f=t.index,l=t.length;if(97!==t.codePointAt(f)||115!==t.codePointAt(f+1))return null;for(f+=3;f<l&&(c=t.codePointAt(f),a.isWhitespace(c));f++);if(124!==t.codePointAt(f))throw t.makeError(f,f+1,"Unexpected Token: "+JSON.stringify(t.charAt(f)).slice(1,-1));f++,u=new i(t),t.index=f;var p=[];if(o.push(u),r.asExpression=!0,s("LOGIC-AS",p,r),delete r.asExpression,u.vars=p.map(function(e){return e.path[0]}),p.length<1)throw t.makeError(u.range[0],u.range[1],"Unexpected token: "+JSON.stringify(u.source()).slice(1,-1));return u}var o=n(0),i=o.tokens.as,a=n(3);e.exports=r},function(e,t,n){function r(e,t,n,r,i,a){return 124===t.codePointAt(t.index)&&o.tokens.as.isCreation(i.token)?(t.index++,i.close(),a.close(),!0):null}var o=n(0);e.exports=r},function(e,t,n){function r(e){return 61===e}function o(e,t,n,o,i,u){var c=t.index;t.length;if(!r(t.codePointAt(c)))return null;var f=new s(t);t.index++,f.close();var l=n[n.length-1];if(!a.isCreation(l))throw t.makeError(f.range[0],f.range[1],"Unexpected Token: "+JSON.stringify(f.source()).slice(1,-1));return f}var i=n(0),a=i.tokens.value,s=i.tokens.assignment;e.exports=o},function(e,t){e.exports=function(e){return function(t){var n,r=this;if("object"==typeof t.transforms)for(n in t.transforms)e.registerTransform(n,t.transforms[n]);if("object"==typeof t.blocks)for(n in t.blocks)e.registerBlock(n,t.blocks[n]);if("object"==typeof t.partials)for(n in t.partials)e.registerPartial(n,t.partials[n]);if("object"==typeof t.components)for(n in t.components)e.registerComponent(n,t.components[n]);r.definePrototype({writable:!0},{template:t.template,bars:e})}}},function(e,t){e.exports=function(e){var t,n=this,r=e.class,o=e.proto;delete e.proto,delete e.class,n.registerConfig(e);for(t in r)n[t]=r[t];n.definePrototype({writable:!0,configurable:!0},o),e.class=r,e.proto=o}},function(e,t){e.exports=function(e,t){if(void 0!==t)return t;for(;"function"==typeof e.getSuper;){if(void 0!==e.getSuper().template)return e.getSuper().template;e=e.getSuper()}return"Template Not Supplied."}},function(e,t){e.exports="{{#if todo.settings}}\n    {{$settings todo=todo app=app back=back}}\n{{else}}\n    {{$list todo=todo todos=todos app=app back=back}}\n{{/if}}\n"},function(e,t,n){function r(e){return JSON.parse(JSON.stringify(e))}function o(e,t){return e.priority>t.priority?1:t.priority>e.priority?-1:e.id>t.id?1:-1}var i=n(11),a=n(117),s=n(118),u=i.createElement({template:n(119),transforms:{add:function(e,t,n,o){return function(e){if(e.preventDefault(),t.get("newTodo.title")&&t.get("newTodo.title").length){var i=n.addChild(r(t.get("newTodo")));t.set("newTodo.title",""),i.save()}o&&setTimeout(function(){t.unset("isAdding")},10)}},findTodos:function(e,t){return t?t.filter(function(t){return t.todo_id===e.id}).sort(o):[]},addItem:function(e){return function(){e.set("isAdding",!0),a(".list .new-item input",e.element)[0].focus()}},setTodo:function(e,t,n,r){return function(n){"INPUT"!==n.target.tagName&&(e.set("back",t.parent()),e.set("todo",t))}},deleteTodo:function(e,t){return function(n){if(confirm("Are you sure you want to delete this todo?")){var r=e.get("todos"),o=r.indexOf(t);r.splice(o,1),e.get("api").save(),e.update()}}},set:function(e,t,n,r){return function(o){e.set(t,n||o.target.value,r)}},setTodoInfo:function(e,t){return function(n){e[t]=n.target.value,e.save()}}}},function(e){var t=this;e.data=e.data||{},e.data.list=t,i.call(t,e),t.createSortable()});u.definePrototype({createSortable:function(){var e=this,t=s.create(a(".todos",e.element)[0],{animation:150,onEnd:function(){for(var n,r,o=t.toArray(),i=[],a=0;a<o.length;a++)r=o[a]+"",n=e.get("app").get("todos").find(function(e){return e.id+""===r}),i.push(n),n&&(n.priority=a);e.get("app").get("api").save(i)}})}}),e.exports=u},function(e,t,n){var r,o;!function(n,i){var i=function(e,t,n){function r(o,i,a){return a=Object.create(r.fn),o&&a.push.apply(a,o[t]?[o]:""+o===o?/</.test(o)?((i=e.createElement(i)).innerHTML=o,i.children):i?(i=r(i)[0])?i[n](o):a:e[n](o):o),a}return r.fn=[],r.one=function(e,t){return r(e,t)[0]||null},r}(document,"addEventListener","querySelectorAll");r=[],void 0!==(o=function(){return i}.apply(t,r))&&(e.exports=o)}()},function(e,t,n){var r,o;/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(i){"use strict";r=i,void 0!==(o="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}(function(){"use strict";function e(t,n){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=n=b({},n),t[G]=this;var r={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==e.supportPointer};for(var o in r)!(o in n)&&(n[o]=r[o]);fe(n);for(var a in this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!n.forceFallback&&ne,i(t,"mousedown",this._onTapStart),i(t,"touchstart",this._onTapStart),n.supportPointer&&i(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(i(t,"dragover",this),i(t,"dragenter",this)),ue.push(this._onDragOver),n.store&&this.sort(n.store.get(this))}function t(e,t){"clone"!==e.lastPullMode&&(t=!0),T&&T.state!==t&&(u(T,"display",t?"none":""),t||T.state&&(e.options.group.revertClone?(S.insertBefore(T,I),e._animate(E,T)):S.insertBefore(T,E)),T.state=t)}function n(e,t,n){if(e){n=n||z;do{if(">*"===t&&e.parentNode===n||m(e,t))return e}while(e=r(e))}return null}function r(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function o(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function i(e,t,n){e.addEventListener(t,n,ee)}function a(e,t,n){e.removeEventListener(t,n,ee)}function s(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(V," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(V," ")}}function u(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return z.defaultView&&z.defaultView.getComputedStyle?n=z.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function c(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function f(e,t,n,r,o,i,a,s){e=e||t[G];var u=z.createEvent("Event"),c=e.options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);u.initEvent(n,!0,!0),u.to=o||t,u.from=i||t,u.item=r||t,u.clone=T,u.oldIndex=a,u.newIndex=s,t.dispatchEvent(u),c[f]&&c[f].call(e,u)}function l(e,t,n,r,o,i,a,s){var u,c,f=e[G],l=f.options.onMove;return u=z.createEvent("Event"),u.initEvent("move",!0,!0),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=o||t,u.relatedRect=i||t.getBoundingClientRect(),u.willInsertAfter=s,e.dispatchEvent(u),l&&(c=l.call(f,u,a)),c}function p(e){e.draggable=!1}function d(){oe=!1}function h(e,t){var n=e.lastElementChild,r=n.getBoundingClientRect();return t.clientY-(r.top+r.height)>5||t.clientX-(r.left+r.width)>5}function v(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function g(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!m(e,t)||n++;return n}function m(e,t){if(e){t=t.split(".");var n=t.shift().toUpperCase(),r=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(r)||[]).length!=t.length)}return!1}function y(e,t){var n,r;return function(){void 0===n&&(n=arguments,r=this,Q(function(){1===n.length?e.call(r,n[0]):e.apply(r,n),n=void 0},t))}}function b(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function x(e){return $&&$.dom?$.dom(e).cloneNode(!0):Z?Z(e).clone(!0)[0]:e.cloneNode(!0)}function k(e){for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&se.push(r)}}function _(e){return Q(e,0)}function w(e){return clearTimeout(e)}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var E,A,P,T,S,I,O,N,C,D,L,j,U,B,M,R,Y,J,F,q,H={},V=/\s+/g,W=/left|right|inline/,G="Sortable"+(new Date).getTime(),X=window,z=X.document,K=X.parseInt,Q=X.setTimeout,Z=X.jQuery||X.Zepto,$=X.Polymer,ee=!1,te=!1,ne="draggable"in z.createElement("div"),re=function(e){return!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&(e=z.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents)}(),oe=!1,ie=Math.abs,ae=Math.min,se=[],ue=[],ce=y(function(e,t,n){if(n&&t.scroll){var r,o,i,a,s,u,c=n[G],f=t.scrollSensitivity,l=t.scrollSpeed,p=e.clientX,d=e.clientY,h=window.innerWidth,v=window.innerHeight;if(C!==n&&(N=t.scroll,C=n,D=t.scrollFn,!0===N)){N=n;do{if(N.offsetWidth<N.scrollWidth||N.offsetHeight<N.scrollHeight)break}while(N=N.parentNode)}N&&(r=N,o=N.getBoundingClientRect(),i=(ie(o.right-p)<=f)-(ie(o.left-p)<=f),a=(ie(o.bottom-d)<=f)-(ie(o.top-d)<=f)),i||a||(i=(h-p<=f)-(p<=f),a=(v-d<=f)-(d<=f),(i||a)&&(r=X)),H.vx===i&&H.vy===a&&H.el===r||(H.el=r,H.vx=i,H.vy=a,clearInterval(H.pid),r&&(H.pid=setInterval(function(){if(u=a?a*l:0,s=i?i*l:0,"function"==typeof D)return D.call(c,s,u,e);r===X?X.scrollTo(X.pageXOffset+s,X.pageYOffset+u):(r.scrollTop+=u,r.scrollLeft+=s)},24)))}},30),fe=function(e){function t(e,t){return void 0!==e&&!0!==e||(e=n.name),"function"==typeof e?e:function(n,r){var o=r.options.group.name;return t?e:e&&(e.join?e.indexOf(o)>-1:o==e)}}var n={},r=e.group;r&&"object"==typeof r||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){te=!1,ee={capture:!1,passive:te}}}))}catch(e){}return e.prototype={constructor:e,_onTapStart:function(e){var t,r=this,o=this.el,i=this.options,a=i.preventOnFilter,s=e.type,u=e.touches&&e.touches[0],c=(u||e).target,l=e.target.shadowRoot&&e.path&&e.path[0]||c,p=i.filter;if(k(o),!E&&!(/mousedown|pointerdown/.test(s)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(c=n(c,i.draggable,o))&&O!==c){if(t=g(c,i.draggable),"function"==typeof p){if(p.call(this,e,c,this))return f(r,l,"filter",c,o,o,t),void(a&&e.preventDefault())}else if(p&&(p=p.split(",").some(function(e){if(e=n(l,e.trim(),o))return f(r,e,"filter",c,o,o,t),!0})))return void(a&&e.preventDefault());i.handle&&!n(l,i.handle,o)||this._prepareDragStart(e,u,c,t)}},_prepareDragStart:function(e,t,n,r){var o,a=this,u=a.el,l=a.options,d=u.ownerDocument;n&&!E&&n.parentNode===u&&(J=e,S=u,E=n,A=E.parentNode,I=E.nextSibling,O=n,R=l.group,B=r,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,E.style["will-change"]="all",o=function(){a._disableDelayedDrag(),E.draggable=a.nativeDraggable,s(E,l.chosenClass,!0),a._triggerDragStart(e,t),f(a,S,"choose",E,S,S,B)},l.ignore.split(",").forEach(function(e){c(E,e.trim(),p)}),i(d,"mouseup",a._onDrop),i(d,"touchend",a._onDrop),i(d,"touchcancel",a._onDrop),i(d,"selectstart",a),l.supportPointer&&i(d,"pointercancel",a._onDrop),l.delay?(i(d,"mouseup",a._disableDelayedDrag),i(d,"touchend",a._disableDelayedDrag),i(d,"touchcancel",a._disableDelayedDrag),i(d,"mousemove",a._disableDelayedDrag),i(d,"touchmove",a._disableDelayedDrag),l.supportPointer&&i(d,"pointermove",a._disableDelayedDrag),a._dragStartTimer=Q(o,l.delay)):o())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),a(e,"mouseup",this._disableDelayedDrag),a(e,"touchend",this._disableDelayedDrag),a(e,"touchcancel",this._disableDelayedDrag),a(e,"mousemove",this._disableDelayedDrag),a(e,"touchmove",this._disableDelayedDrag),a(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,t){t=t||("touch"==e.pointerType?e:null),t?(J={target:E,clientX:t.clientX,clientY:t.clientY},this._onDragStart(J,"touch")):this.nativeDraggable?(i(E,"dragend",this),i(S,"dragstart",this._onDragStart)):this._onDragStart(J,!0);try{z.selection?_(function(){z.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(S&&E){var t=this.options;s(E,t.ghostClass,!0),s(E,t.dragClass,!1),e.active=this,f(this,S,"start",E,S,S,B)}else this._nulling()},_emulateDragOver:function(){if(F){if(this._lastX===F.clientX&&this._lastY===F.clientY)return;this._lastX=F.clientX,this._lastY=F.clientY,re||u(P,"display","none");var e=z.elementFromPoint(F.clientX,F.clientY),t=e,n=ue.length;if(e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(F.clientX,F.clientY),t=e),t)do{if(t[G]){for(;n--;)ue[n]({clientX:F.clientX,clientY:F.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);re||u(P,"display","")}},_onTouchMove:function(t){if(J){var n=this.options,r=n.fallbackTolerance,o=n.fallbackOffset,i=t.touches?t.touches[0]:t,a=i.clientX-J.clientX+o.x,s=i.clientY-J.clientY+o.y,c=t.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!e.active){if(r&&ae(ie(i.clientX-this._lastX),ie(i.clientY-this._lastY))<r)return;this._dragStarted()}this._appendGhost(),q=!0,F=i,u(P,"webkitTransform",c),u(P,"mozTransform",c),u(P,"msTransform",c),u(P,"transform",c),t.preventDefault()}},_appendGhost:function(){if(!P){var e,t=E.getBoundingClientRect(),n=u(E),r=this.options;P=E.cloneNode(!0),s(P,r.ghostClass,!1),s(P,r.fallbackClass,!0),s(P,r.dragClass,!0),u(P,"top",t.top-K(n.marginTop,10)),u(P,"left",t.left-K(n.marginLeft,10)),u(P,"width",t.width),u(P,"height",t.height),u(P,"opacity","0.8"),u(P,"position","fixed"),u(P,"zIndex","100000"),u(P,"pointerEvents","none"),r.fallbackOnBody&&z.body.appendChild(P)||S.appendChild(P),e=P.getBoundingClientRect(),u(P,"width",2*t.width-e.width),u(P,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;n._offUpEvents(),R.checkPull(n,n,E,e)&&(T=x(E),T.draggable=!1,T.style["will-change"]="",u(T,"display","none"),s(T,n.options.chosenClass,!1),n._cloneId=_(function(){S.insertBefore(T,E),f(n,S,"clone",E)})),s(E,o.dragClass,!0),t?("touch"===t?(i(z,"touchmove",n._onTouchMove),i(z,"touchend",n._onDrop),i(z,"touchcancel",n._onDrop),o.supportPointer&&(i(z,"pointermove",n._onTouchMove),i(z,"pointerup",n._onDrop))):(i(z,"mousemove",n._onTouchMove),i(z,"mouseup",n._onDrop)),n._loopId=setInterval(n._emulateDragOver,50)):(r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,E)),i(z,"drop",n),n._dragStartId=_(n._dragStarted))},_onDragOver:function(r){var o,i,a,s,c=this.el,f=this.options,p=f.group,v=e.active,g=R===p,m=!1,y=f.sort;if(void 0!==r.preventDefault&&(r.preventDefault(),!f.dragoverBubble&&r.stopPropagation()),!E.animated&&(q=!0,v&&!f.disabled&&(g?y||(s=!S.contains(E)):Y===this||(v.lastPullMode=R.checkPull(this,v,E,r))&&p.checkPut(this,v,E,r))&&(void 0===r.rootEl||r.rootEl===this.el))){if(ce(r,f,this.el),oe)return;if(o=n(r.target,f.draggable,c),i=E.getBoundingClientRect(),Y!==this&&(Y=this,m=!0),s)return t(v,!0),A=S,void(T||I?S.insertBefore(E,T||I):y||S.appendChild(E));if(0===c.children.length||c.children[0]===P||c===r.target&&h(c,r)){if(0!==c.children.length&&c.children[0]!==P&&c===r.target&&(o=c.lastElementChild),o){if(o.animated)return;a=o.getBoundingClientRect()}t(v,g),!1!==l(S,c,E,i,o,a,r)&&(E.contains(c)||(c.appendChild(E),A=c),this._animate(i,E),o&&this._animate(a,o))}else if(o&&!o.animated&&o!==E&&void 0!==o.parentNode[G]){L!==o&&(L=o,j=u(o),U=u(o.parentNode)),a=o.getBoundingClientRect();var b=a.right-a.left,x=a.bottom-a.top,k=W.test(j.cssFloat+j.display)||"flex"==U.display&&0===U["flex-direction"].indexOf("row"),_=o.offsetWidth>E.offsetWidth,w=o.offsetHeight>E.offsetHeight,O=(k?(r.clientX-a.left)/b:(r.clientY-a.top)/x)>.5,N=o.nextElementSibling,C=!1;if(k){var D=E.offsetTop,B=o.offsetTop;C=D===B?o.previousElementSibling===E&&!_||O&&_:o.previousElementSibling===E||E.previousElementSibling===o?(r.clientY-a.top)/x>.5:B>D}else m||(C=N!==E&&!w||O&&w);var M=l(S,c,E,i,o,a,r,C);!1!==M&&(1!==M&&-1!==M||(C=1===M),oe=!0,Q(d,30),t(v,g),E.contains(c)||(C&&!N?c.appendChild(E):o.parentNode.insertBefore(E,C?N:o)),A=E.parentNode,this._animate(i,E),this._animate(a,o))}}},_animate:function(e,t){var n=this.options.animation;if(n){var r=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),u(t,"transition","none"),u(t,"transform","translate3d("+(e.left-r.left)+"px,"+(e.top-r.top)+"px,0)"),t.offsetWidth,u(t,"transition","all "+n+"ms"),u(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=Q(function(){u(t,"transition",""),u(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;a(z,"touchmove",this._onTouchMove),a(z,"pointermove",this._onTouchMove),a(e,"mouseup",this._onDrop),a(e,"touchend",this._onDrop),a(e,"pointerup",this._onDrop),a(e,"touchcancel",this._onDrop),a(e,"pointercancel",this._onDrop),a(e,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;clearInterval(this._loopId),clearInterval(H.pid),clearTimeout(this._dragStartTimer),w(this._cloneId),w(this._dragStartId),a(z,"mouseover",this),a(z,"mousemove",this._onTouchMove),this.nativeDraggable&&(a(z,"drop",this),a(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(q&&(t.preventDefault(),!r.dropBubble&&t.stopPropagation()),P&&P.parentNode&&P.parentNode.removeChild(P),S!==A&&"clone"===e.active.lastPullMode||T&&T.parentNode&&T.parentNode.removeChild(T),E&&(this.nativeDraggable&&a(E,"dragend",this),p(E),E.style["will-change"]="",s(E,this.options.ghostClass,!1),s(E,this.options.chosenClass,!1),f(this,S,"unchoose",E,A,S,B),S!==A?(M=g(E,r.draggable))>=0&&(f(null,A,"add",E,A,S,B,M),f(this,S,"remove",E,A,S,B,M),f(null,A,"sort",E,A,S,B,M),f(this,S,"sort",E,A,S,B,M)):E.nextSibling!==I&&(M=g(E,r.draggable))>=0&&(f(this,S,"update",E,A,S,B,M),f(this,S,"sort",E,A,S,B,M)),e.active&&(null!=M&&-1!==M||(M=B),f(this,S,"end",E,A,S,B,M),this.save()))),this._nulling()},_nulling:function(){S=E=A=P=I=T=O=N=C=J=F=q=M=L=j=Y=R=e.active=null,se.forEach(function(e){e.checked=!0}),se.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":E&&(this._onDragOver(e),o(e));break;case"mouseover":this._onDrop(e);break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],r=this.el.children,o=0,i=r.length,a=this.options;o<i;o++)e=r[o],n(e,a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||v(e));return t},sort:function(e){var t={},r=this.el;this.toArray().forEach(function(e,o){var i=r.children[o];n(i,this.options.draggable,r)&&(t[e]=i)},this),e.forEach(function(e){t[e]&&(r.removeChild(t[e]),r.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&fe(n)},destroy:function(){var e=this.el;e[G]=null,a(e,"mousedown",this._onTapStart),a(e,"touchstart",this._onTapStart),a(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(a(e,"dragover",this),a(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),ue.splice(ue.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},i(z,"touchmove",function(t){e.active&&t.preventDefault()}),e.utils={on:i,off:a,css:u,find:c,is:function(e,t){return!!n(e,t,e)},extend:b,throttle:y,closest:n,toggleClass:s,clone:x,index:g,nextTick:_,cancelNextTick:w},e.create=function(t,n){return new e(t,n)},e.version="1.7.0",e})},function(e,t){e.exports='<div class="list">\n    {{#with todo=todo todos=todos app=app back=back}}\n        <h1>\n            {{#if back}}\n                <a href="#" onclick::{{@setTodo(app, back)}} class="back">\n                    |||\n                </a>\n            {{else}}\n                {{#if todo.cog}}\n                    <a href="#" onclick::{{@setTodo(app, todo.cog)}} class="cog">\n                        o\n                    </a>\n                {{/if}}\n            {{/if}}\n\n            <input type="text" disabled::{{!todo.id}} value::{{todo.title}} onblur::{{@set(app, \'title\', undefined, todo)}}>\n        </h1>\n\n        <ul class="todos">\n            {{#each @findTodos(todo, todos)}}\n                <li data-id="{{id}}">\n                    <a href="#" onclick::{{@setTodo(app, this)}} class="go">\n                        &raquo;\n                    </a>\n\n                    <a href="#" onclick::{{@deleteTodo(app, this)}} class="delete">\n                        x\n                    </a>\n\n                    <input type="text" value::{{title}} onblur::{{@setTodoInfo(this, \'title\')}}>\n                </li>\n            {{/each}}\n        </ul>\n\n        {{#if isAdding}}\n            <ul class="new-item">\n                <li>\n                    <form onsubmit::{{@add(app, list, todo)}}>\n                        <input type="text" value::{{newTodo.title}} oninput::{{@set(list, \'newTodo.title\')}} onblur::{{@add(app, list, todo, 1)}}>\n                    </form>\n                </li>\n            </ul>\n        {{/if}}\n    {{/with}}\n</div>\n\n<div class="list-underlay" onclick::{{@addItem(list)}}></div>\n'},function(e,t,n){var r=n(11),o=r.createElement({template:n(121),transforms:{setTodo:function(e,t,n,r){return function(n){"INPUT"!==n.target.tagName&&(e.set("back",t.parent()),e.set("todo",t))}},set:function(e,t,n,r){return function(o){e.set(t,n||o.target.value,r)}}}},function(e){var t=this;e.data=e.data||{},e.data.settings=t,r.call(t,e)});o.definePrototype({}),e.exports=o},function(e,t){e.exports='<div class="list">\n    {{#with todo=todo todos=todos app=app back=back}}\n        <h1>\n            {{#if back}}\n                <a href="#" onclick::{{@setTodo(app, back)}} class="back">\n                    |||\n                </a>\n            {{else}}\n                {{#if todo.cog}}\n                    <a href="#" onclick::{{@setTodo(app, todo.cog)}} class="cog">\n                        o\n                    </a>\n                {{/if}}\n            {{/if}}\n\n            <input type="text" disabled::{{!todo.id}} value::{{todo.title}} onblur::{{@set(app, \'title\', undefined, todo)}}>\n        </h1>\n\n        <ul class="todos">\n            <li><input type="text" value="Log In"></li>\n            <li>\n                <label>To access your lists on another device,</label>\n                <input type="text" value="Upgrade Now">\n            </li>\n\n            <li><input type="text" value="Change My Password"></li>\n            <li><input type="text" value="Log Out"></li>\n\n            \x3c!-- <li>\n                <label>What\'s your email address?</label>\n                <input type="text">\n            </li>\n            <li><input type="text" value="Choose A Password"></li>\n            <li>\n                <label>Choose a password:</label>\n                <input type="text">\n            </li>\n            <li class="styleless">\n                <button>Save Profile</button>\n            </li> --\x3e\n        </ul>\n    {{/with}}\n</div>\n\n<div class="list-underlay"></div>\n'},function(e,t,n){function r(){}function o(e){return!e.isPersisted()||e.isChanged()}var i=n(2),a=n(26),s=n(123),u=i.generate(function(e){var t=this;e=e||{},e.debug=!0,t.defineProperties(e)});u.definePrototype({save:function(e,t){this.debug&&console.debug("save",arguments);var n=this;e=e||n.app.get("todos",void 0,[]),n.saveToLocal(e,function(){n.saveToRemote(e,function(o){if(o)return(t||r)(o);n.saveToLocal(e,t)})})},saveToLocal:function(e,t){this.debug&&console.debug("saveToLocal",arguments);var n=this;n.localStore.set("todos",n.app.get("todos"),t)},saveToRemote:function(e,t){this.debug&&console.debug("saveToRemote",arguments);var n=this;e=(e||n.app.get("todos",void 0,[])).filter(o),n.remoteStore.authenticate(function(o,i){if(o)return n.debug&&console.error(o),(t||r)(o);s.eachSeries(e,function(e,t){n._saveToRemoteSingle(e,t)},function(){(t||r)(void 0,e)})})},_saveToRemoteSingle:function(e,t){this.debug&&console.debug("_saveToRemoteSingle",arguments);var n=this,r=e.isPersisted(),o=r?void 0:n.id;return n.remoteStore[r?"patch":"post"]("/todos"+(r?"/"+e.id:""),{todo:e.toJSON()},function(r,i){if(r)return t(r);for(var a in i)e[a]=i[a];o&&n.app.get("todos").forEach(function(t){t.todo_id===o&&(t.todo_id=e.id)}),n.persistedJSON=e.toJSON(),t(void 0,e)}),n}}),u.definePrototype({restoreFromLocal:function(e){this.debug&&console.debug("restoreFromLocal",arguments);var t=this;t.localStore.get("todos",function(n,r){if(r)for(var o=r.length-1;o>=0;o--)r[o]=new a(t.app,r[o]);"function"==typeof e&&e(n,r)})},restoreFromRemote:function(e){var t=this;t.remoteStore.authenticate(function(n,o){if(n)return t.debug&&console.error(n),(e||r)(n);t.remoteStore.get("/todos",void 0,function(n,r){if(r)for(var o=r.length-1;o>=0;o--)r[o]=new a(t.app,r[o]);"function"==typeof e&&e(n,r)})})}}),e.exports=u},function(e,t,n){e.exports={parallel:n(124),series:n(125),eachSeries:n(126),eachParallel:n(127)}},function(e,t){function n(e,t,n,r,o,i){e&&n.push(e),r.push(t),o&&"function"==typeof i&&i(n,r)}function r(e,t){if(!e.length)return t([],[]);var r,o=[],i=[],a=e.length-1,s=0;for(r=0;r<=a;r++)e[r](function(e,r){n(e,r,i,o,s===a,t),s++})}e.exports=r},function(e,t){function n(e,t){var n=e.length;if(!n)return t(void 0,[]);r(e,n,0,t,[])}function r(e,t,n,o,i){e[n++](function(a,s){if(i.push(s),a||n===t)return o(a,i);r(e,t,n,o,i)})}e.exports=n},function(e,t){function n(e,t,n){if(!e)return n(void 0,[]);if("function"!=typeof t)throw new Error(t+" is not a function.");if(e instanceof Array){if(!e.length)return n(void 0,[]);r(e,t,0,[],n)}else{var i=Object.keys(e),a=i.length,s=i[a-1];if(!i.length)return n(void 0,[]);o(e,i,a,s,i[0],t,[],n)}}function r(e,t,n,o,i){t(e[n++],function(a,s){if(o.push(s),a||n===e.length)return i(a,o);r(e,t,n,o,i)})}function o(e,t,n,r,i,a,s,u){a(i,e[i],function(c,f){if(s.push(f),c||r===i)return u(c,s);o(e,t,n,r,t[t.indexOf(i)+1],a,s,u)})}e.exports=n},function(e,t){function n(e,t,n,r,o,i){e&&n.push(e),r.push(t),o&&"function"==typeof i&&i(n,r)}function r(e,t,r){if(!e)return r([],[]);var o=[],i=[];if(e instanceof Array){if(!e.length)return r([],[]);var a,s=e.length-1,u=0;for(a=0;a<=s;a++)t(e[a],function(e,t){n(e,t,i,o,u===s,r),u++})}else{var c,f=Object.keys(e||{}),l=f.length,p=l;f[l-1];if(!l)return r([],[]);for(c in e)t(c,e[c],function(e,t){p--,n(e,t,i,o,0===p,r)})}}e.exports=r},function(e,t,n){var r=n(2),o=n(129),i=r.generate(function(){this.defineProperties({db:o.createInstance({name:"Clarity"})})});i.definePrototype({get:function(e,t){this.db.getItem(e,t)},set:function(e,t,n){this.db.setItem(e,t,function(e,t){"function"==typeof n&&n(e,t)})},push:function(e,t,n){var r=this;r.get(e,function(o,i){i=i||[],i.push(t),r.set(e,i,n)})}}),e.exports=i},function(e,t,n){(function(t){var n,n;/*!
    localForage -- Offline Storage, Improved
    Version 1.7.1
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
!function(t){e.exports=t()}(function(){return function e(t,r,o){function i(s,u){if(!r[s]){if(!t[s]){var c="function"==typeof n&&n;if(!u&&c)return n(s,!0);if(a)return a(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n||e)},l,l.exports,e,t,r,o)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,n,r){(function(e){"use strict";function t(){f=!0;for(var e,t,n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}f=!1}function r(e){1!==l.push(e)||f||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,s=new i(t),u=e.document.createTextNode("");s.observe(u,{characterData:!0}),o=function(){u.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(t,0)};else{var c=new e.MessageChannel;c.port1.onmessage=t,o=function(){c.port2.postMessage(0)}}var f,l=[];n.exports=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){h(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function s(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function f(e){return e instanceof this?e:v.resolve(new this(r),e)}function l(e){var t=new this(r);return v.reject(t,e)}function p(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,s=-1,u=new this(r);++s<n;)!function(e,r){function s(e){i[r]=e,++a!==n||o||(o=!0,v.resolve(u,i))}t.resolve(e).then(s,function(e){o||(o=!0,v.reject(u,e))})}(e[s],s);return u}function d(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,v.resolve(a,e))},function(e){o||(o=!0,v.reject(a,e))})}(e[i]);return a}var h=e(1),v={},g=["REJECTED"],m=["FULFILLED"],y=["PENDING"];t.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===m||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==y){a(n,this.state===m?e:t,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(s,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=m,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=f,o.reject=l,o.all=p,o.race=d},{1:1}],3:[function(e,n,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function i(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function a(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function s(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function c(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function f(e){return new me(function(t){var n=e.transaction(ye,we),r=o([""]);n.objectStore(ye).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function l(e){return"boolean"==typeof be?me.resolve(be):f(e).then(function(e){return be=e})}function p(e){var t=xe[e.name],n={};n.promise=new me(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function d(e){var t=xe[e.name],n=t.deferredOperations.pop();if(n)return n.resolve(),n.promise}function h(e,t){var n=xe[e.name],r=n.deferredOperations.pop();if(r)return r.reject(t),r.promise}function v(e,t){return new me(function(n,r){if(xe[e.name]=xe[e.name]||A(),e.db){if(!t)return n(e.db);p(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=ge.open.apply(ge,o);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(ye)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){n(i.result),d(e)}})}function g(e){return v(e,!1)}function m(e){return v(e,!0)}function y(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function b(e){return new me(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function x(e){return o([c(atob(e.data))],{type:e.type})}function k(e){return e&&e.__local_forage_encoded_blob}function _(e){var t=this,n=t._initReady().then(function(){var e=xe[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return a(n,e,e),n}function w(e){p(e);for(var t=xe[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,g(e).then(function(t){return e.db=t,y(e)?m(e):t}).then(function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r}).catch(function(t){throw h(e,t),t})}function E(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return me.resolve().then(function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),m(e)}).then(function(){return w(e).then(function(){E(e,t,n,r-1)})}).catch(n);n(o)}}function A(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function P(e){function t(){return me.resolve()}var n=this,r={db:null};if(e)for(var o in e)r[o]=e[o];var i=xe[r.name];i||(i=A(),xe[r.name]=i),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=_);for(var a=[],s=0;s<i.forages.length;s++){var u=i.forages[s];u!==n&&a.push(u._initReady().catch(t))}var c=i.forages.slice(0);return me.all(a).then(function(){return r.db=i.db,g(r)}).then(function(e){return r.db=e,y(r,n._defaultConfig.version)?m(r):e}).then(function(e){r.db=i.db=e,n._dbInfo=r;for(var t=0;t<c.length;t++){var o=c[t];o!==n&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})}function T(e,t){var n=this;e=s(e);var r=new me(function(t,r){n.ready().then(function(){E(n._dbInfo,_e,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=a.get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),k(e)&&(e=x(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r}function S(e,t){var n=this,r=new me(function(t,r){n.ready().then(function(){E(n._dbInfo,_e,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=a.openCursor(),u=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;k(r)&&(r=x(r));var o=e(r,n.key,u++);void 0!==o?t(o):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r}function I(e,t,n){var r=this;e=s(e);var o=new me(function(n,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===ke.call(t)?l(i.db).then(function(e){return e?t:b(t)}):t}).then(function(t){E(r._dbInfo,we,function(i,a){if(i)return o(i);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=u.error?u.error:u.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return i(o,n),o}function O(e,t){var n=this;e=s(e);var r=new me(function(t,r){n.ready().then(function(){E(n._dbInfo,we,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=a.delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(s.error)},i.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r}function N(e){var t=this,n=new me(function(e,n){t.ready().then(function(){E(t._dbInfo,we,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return i(n,e),n}function C(e){var t=this,n=new me(function(e,n){t.ready().then(function(){E(t._dbInfo,_e,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return i(n,e),n}function D(e,t){var n=this,r=new me(function(t,r){if(e<0)return void t(null);n.ready().then(function(){E(n._dbInfo,_e,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;if(!n)return void t(null);0===e?t(n.key):s?t(n.key):(s=!0,n.advance(e))},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return i(r,t),r}function L(e){var t=this,n=new me(function(e,n){t.ready().then(function(){E(t._dbInfo,_e,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.openCursor(),s=[];a.onsuccess=function(){var t=a.result;if(!t)return void e(s);s.push(t.key),t.continue()},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return i(n,e),n}function j(e,t){t=u.apply(this,arguments);var n=this.config();e="function"!=typeof e&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;if(e.name){var a=e.name===n.name&&o._dbInfo.db,s=a?me.resolve(o._dbInfo.db):g(e).then(function(t){var n=xe[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t});r=e.storeName?s.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;p(e);var r=xe[e.name],o=r.forages;t.close();for(var i=0;i<o.length;i++){var a=o[i];a._dbInfo.db=null,a._dbInfo.version=n}return new me(function(t,r){var o=ge.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,d(n._dbInfo)}}).catch(function(t){throw(h(e,t)||me.resolve()).catch(function(){}),t})}}):s.then(function(t){p(e);var n=xe[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++){r[o]._dbInfo.db=null}return new me(function(t,n){var r=ge.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)d(r[t]._dbInfo)}).catch(function(t){throw(h(e,t)||me.resolve()).catch(function(){}),t})})}else r=me.reject("Invalid arguments");return i(r,t),r}function U(e){var t,n,r,o,i,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),f=new Uint8Array(c);for(t=0;t<s;t+=4)n=Ae.indexOf(e[t]),r=Ae.indexOf(e[t+1]),o=Ae.indexOf(e[t+2]),i=Ae.indexOf(e[t+3]),f[u++]=n<<2|r>>4,f[u++]=(15&r)<<4|o>>2,f[u++]=(3&o)<<6|63&i;return c}function B(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=Ae[n[t]>>2],r+=Ae[(3&n[t])<<4|n[t+1]>>4],r+=Ae[(15&n[t+1])<<2|n[t+2]>>6],r+=Ae[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function M(e,t){var n="";if(e&&(n=Fe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Fe.call(e.buffer))){var r,o=Se;e instanceof ArrayBuffer?(r=e,o+=Oe):(r=e.buffer,"[object Int8Array]"===n?o+=Ce:"[object Uint8Array]"===n?o+=De:"[object Uint8ClampedArray]"===n?o+=Le:"[object Int16Array]"===n?o+=je:"[object Uint16Array]"===n?o+=Be:"[object Int32Array]"===n?o+=Ue:"[object Uint32Array]"===n?o+=Me:"[object Float32Array]"===n?o+=Re:"[object Float64Array]"===n?o+=Ye:t(new Error("Failed to get type for BinaryArray"))),t(o+B(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=Pe+e.type+"~"+B(this.result);t(Se+Ne+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function R(e){if(e.substring(0,Ie)!==Se)return JSON.parse(e);var t,n=e.substring(Je),r=e.substring(Ie,Je);if(r===Ne&&Te.test(n)){var i=n.match(Te);t=i[1],n=n.substring(i[0].length)}var a=U(n);switch(r){case Oe:return a;case Ne:return o([a],{type:t});case Ce:return new Int8Array(a);case De:return new Uint8Array(a);case Le:return new Uint8ClampedArray(a);case je:return new Int16Array(a);case Be:return new Uint16Array(a);case Ue:return new Int32Array(a);case Me:return new Uint32Array(a);case Re:return new Float32Array(a);case Ye:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}}function Y(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function J(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new me(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(o){Y(o,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=qe,o}function F(e,t,n,r,o,i){e.executeSql(n,r,o,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[name],function(e,s){s.rows.length?i(e,a):Y(e,t,function(){e.executeSql(n,r,o,i)},i)},i):i(e,a)},i)}function q(e,t){var n=this;e=s(e);var r=new me(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){F(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return i(r,t),r}function H(e,t){var n=this,r=new me(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){F(n,o,"SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var u=i.item(s),c=u.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,u.key,s+1)))return void t(c)}t()},function(e,t){r(t)})})}).catch(r)});return i(r,t),r}function V(e,t,n,r){var o=this;e=s(e);var a=new me(function(i,a){o.ready().then(function(){void 0===t&&(t=null);var s=t,u=o._dbInfo;u.serializer.serialize(t,function(t,c){c?a(c):u.db.transaction(function(n){F(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){i(s)},function(e,t){a(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(V.apply(o,[e,s,n,r-1]));a(t)}})})}).catch(a)});return i(a,n),a}function W(e,t,n){return V.apply(this,[e,t,n,1])}function G(e,t){var n=this;e=s(e);var r=new me(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){F(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return i(r,t),r}function X(e){var t=this,n=new me(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){F(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return i(n,e),n}function z(e){var t=this,n=new me(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){F(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return i(n,e),n}function K(e,t){var n=this,r=new me(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){F(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return i(r,t),r}function Q(e){var t=this,n=new me(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){F(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)},function(e,t){n(t)})})}).catch(n)});return i(n,e),n}function Z(e){return new me(function(t,n){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})},function(e,t){n(t)})},function(e){n(e)})})}function $(e,t){t=u.apply(this,arguments);var n=this.config();e="function"!=typeof e&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return r=e.name?new me(function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),t(e.storeName?{db:r,storeNames:[e.storeName]}:Z(r))}).then(function(e){return new me(function(t,n){e.db.transaction(function(r){for(var o=[],i=0,a=e.storeNames.length;i<a;i++)o.push(function(e){return new me(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}(e.storeNames[i]));me.all(o).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):me.reject("Invalid arguments"),i(r,t),r}function ee(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function te(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}function ne(){return!te()||localStorage.length>0}function re(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=ee(e,t._defaultConfig),ne()?(t._dbInfo=n,n.serializer=qe,me.resolve()):me.reject()}function oe(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return i(n,e),n}function ie(e,t){var n=this;e=s(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return i(r,t),r}function ae(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(o),a++)))return c}}});return i(r,t),r}function se(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return i(r,t),r}function ue(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r});return i(n,e),n}function ce(e){var t=this,n=t.keys().then(function(e){return e.length});return i(n,e),n}function fe(e,t){var n=this;e=s(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return i(r,t),r}function le(e,t,n){var r=this;e=s(e);var o=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new me(function(o,i){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return i(o,n),o}function pe(e,t){if(t=u.apply(this,arguments),e="function"!=typeof e&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return r=e.name?new me(function(t){t(e.storeName?ee(e,o._defaultConfig):e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):me.reject("Invalid arguments"),i(r,t),r}function de(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function he(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Xe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();"undefined"==typeof Promise&&e(3);var me=Promise,ye="local-forage-detect-blob-support",be=void 0,xe={},ke=Object.prototype.toString,_e="readonly",we="readwrite",Ee={_driver:"asyncStorage",_initStorage:P,_support:function(){try{if(!ge)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:S,getItem:T,setItem:I,removeItem:O,clear:N,length:C,key:D,keys:L,dropInstance:j},Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pe="~~local_forage_type~",Te=/^~~local_forage_type~([^~]+)~/,Se="__lfsc__:",Ie=Se.length,Oe="arbf",Ne="blob",Ce="si08",De="ui08",Le="uic8",je="si16",Ue="si32",Be="ur16",Me="ui32",Re="fl32",Ye="fl64",Je=Ie+Oe.length,Fe=Object.prototype.toString,qe={serialize:M,deserialize:R,stringToBuffer:U,bufferToString:B},He={_driver:"webSQLStorage",_initStorage:J,_support:function(){return"function"==typeof openDatabase}(),iterate:H,getItem:q,setItem:W,removeItem:G,clear:X,length:z,key:K,keys:Q,dropInstance:$},Ve={_driver:"localStorageWrapper",_initStorage:re,_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:ae,getItem:ie,setItem:le,removeItem:fe,clear:oe,length:ce,key:se,keys:ue,dropInstance:pe},We=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ge=function(e,t){for(var n=e.length,r=0;r<n;){if(We(e[r],t))return!0;r++}return!1},Xe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ze={},Ke={},Qe={INDEXEDDB:Ee,WEBSQL:He,LOCALSTORAGE:Ve},Ze=[Qe.INDEXEDDB._driver,Qe.WEBSQL._driver,Qe.LOCALSTORAGE._driver],$e=["dropInstance"],et=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat($e),tt={description:"",driver:Ze.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},nt=function(){function e(t){r(this,e);for(var n in Qe)if(Qe.hasOwnProperty(n)){var o=Qe[n],i=o._driver;this[n]=i,ze[i]||this.defineDriver(o)}this._defaultConfig=he({},tt),this._config=he({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":ve(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new me(function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var a=et.concat("_initStorage"),s=0,u=a.length;s<u;s++){var c=a[s];if((!Ge($e,c)||e[c])&&"function"!=typeof e[c])return void n(o)}!function(){for(var t=0,n=$e.length;t<n;t++){var r=$e[t];e[r]||(e[r]=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=me.reject(t);return i(n,arguments[arguments.length-1]),n}}(r))}}();var f=function(n){ze[r]&&console.info("Redefining LocalForage driver: "+r),ze[r]=e,Ke[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(e){n(e)}});return a(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ze[e]?me.resolve(ze[e]):me.reject(new Error("Driver not found."));return a(r,t,n),r},e.prototype.getSerializer=function(e){var t=me.resolve(qe);return a(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return a(n,e,e),n},e.prototype.setDriver=function(e,t,n){function r(){s._config.driver=s.driver()}function o(e){return s._extend(e),r(),s._ready=s._initStorage(s._config),s._ready}function i(e){return function(){function t(){for(;n<e.length;){var i=e[n];return n++,s._dbInfo=null,s._ready=null,s.getDriver(i).then(o).catch(t)}r();var a=new Error("No available storage method found.");return s._driverSet=me.reject(a),s._driverSet}var n=0;return t()}}var s=this;Xe(e)||(e=[e]);var u=this._getSupportedDrivers(e),c=null!==this._driverSet?this._driverSet.catch(function(){return me.resolve()}):me.resolve();return this._driverSet=c.then(function(){var e=u[0];return s._dbInfo=null,s._ready=null,s.getDriver(e).then(function(e){s._driver=e._driver,r(),s._wrapLibraryMethodsWithReady(),s._initDriver=i(u)})}).catch(function(){r();var e=new Error("No available storage method found.");return s._driverSet=me.reject(e),s._driverSet}),a(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Ke[e]},e.prototype._extend=function(e){he(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=et.length;e<t;e++)de(this,et[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),rt=new nt;t.exports=rt},{3:3}]},{},[4])(4)})}).call(t,n(13))},function(e,t,n){var r=n(131),o=r.generate(function(e){var t=this;r.call(t,e)});o.definePrototype(n(132)),o.definePrototype(n(134)),e.exports=o},function(e,t,n){var r=n(2),o=r.generate(function(e){this.defineProperties({writable:!0},e||{})});o.definePrototype({get:function(e,t,n){this.request("get",e,t,n)},post:function(e,t,n){this.request("post",e,t,n)},patch:function(e,t,n){this.request("patch",e,t,n)}}),o.definePrototype({request:function(e,t,n,r,o){var i=this,a={url:(i.url||"")+t+(t.length>1?".json":""),method:e,data:n,async:o,beforeSend:function(e){i.basicAuth&&e.setRequestHeader("Authorization","Basic "+btoa(i.basicAuth))},success:function(e){"function"==typeof r&&r(null,e)},error:function(e){if("function"==typeof r&&e){if(e.responseJSON)e=e.responseJSON;else if(void 0!==e.response)try{e=JSON.parse(e.response)}catch(t){e=e.response}return r(e||new Error("Invalid response format."))}}};return"get"===e?a.contentType="json":a.dataType="json",i.ajax(a)}}),o.definePrototype({ajax:function(e){var t=e.method.toUpperCase(),n=new XMLHttpRequest,r=e.data;if("GET"===t&&"object"==typeof r){e.url+="?";for(var o in e.data)e.url+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e.data[o])}else r=JSON.stringify(r);return n.addEventListener("readystatechange",function(){if(4===n.readyState){if(n.status>=200&&n.status<300||304===n.status)try{return void e.success.call(e.context,JSON.parse(n.responseText))}catch(t){e.error.call(e.context,t)}e.error.call(e.context,n)}},!1),n.open(t,e.url,void 0===e.async||e.async),e.beforeSend.call(e.context,n),n.setRequestHeader("content-type","application/json"),n.send(r),this}}),e.exports=o},function(e,t,n){function r(){return new Error("Could not authenticate.")}var o=n(133),i="clarity-access-token";e.exports={authenticate:function(e,t){this.debug&&console.debug("authenticate",arguments);var n=this;if("function"==typeof e&&(t=e,e=void 0),n.user)t(void 0,n.user);else if(n.failed)t(r());else{var a,s,u="post";o.get(i)?(a="/",u="get",n.basicAuth=o.get(i)):e?(a="/users",s={user:e}):(a="/users",s={random:!0}),n[u](a,s,function(e,o){if(e)return n.unSetUser(),t(r());n.setUser(o,t)})}},setUser:function(e,t){this.debug&&console.debug("setUser",arguments);var n=this;n.user=e,n.basicAuth=e.access_token,o.set(i,n.basicAuth,{expires:9125}),t(void 0,n.user)},unSetUser:function(){this.debug&&console.debug("unSetUser",arguments);var e=this;e.failed=!0,e.basicAuth=void 0,o.erase(i)}}},function(e,t){t.defaults={},t.set=function(e,n,r){var o=r||{},i=t.defaults,a=o.expires||i.expires,s=o.domain||i.domain,u=void 0!==o.path?o.path:void 0!==i.path?i.path:"/",c=void 0!==o.secure?o.secure:i.secure,f=void 0!==o.httponly?o.httponly:i.httponly,l=void 0!==o.samesite?o.samesite:i.samesite,p=a?new Date("number"==typeof a?(new Date).getTime()+864e5*a:a):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+n.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(p&&p.getTime()>=0?";expires="+p.toUTCString():"")+(s?";domain="+s:"")+(u?";path="+u:"")+(c?";secure":"")+(f?";httponly":"")+(l?";samesite="+l:"")},t.get=function(e){for(var t=document.cookie.split(";");t.length;){var n=t.pop(),r=n.indexOf("=");r=r<0?n.length:r;if(decodeURIComponent(n.slice(0,r).replace(/^\s+/,""))===e)return decodeURIComponent(n.slice(r+1))}return null},t.erase=function(e,n){t.set(e,"",{expires:-1,domain:n&&n.domain,path:n&&n.path,secure:0,httponly:0})},t.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var n=t.pop(),r=n.indexOf("=");r=r<0?n.length:r;e[decodeURIComponent(n.slice(0,r).replace(/^\s+/,""))]=decodeURIComponent(n.slice(r+1))}return e}},function(e,t){e.exports={}}]);